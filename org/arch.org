* 安装 archLinux

systemctl enable dhcpcd
systemctl restart dhcpcd
ping www.baidu.com

* time

timedatectl set-ntp true

timedatectl status

* 源

vim /etc/pacman.d/mirrorlist

2dd    剪切 China 源 (光标移至 ##China 处)
gg      跳至文档开头
p        粘贴
ESC
:wq     保存并退出

* 分区

lsblk                     显示当前的分区情况

parted /dev/sda      格式化分区 (注意: 你可能不是 sda 分区)
mktable                   建立分区表
? 1 ------> gpt
? 2 ------> quite

cfdisk /dev/sda       分区操作 (注意: 你可能不是 sda 分区)

! 1  ------>  EFI 分区 300M 足够了
! 2  ------>  绝大部分空间给 Home 目录分区
! 3  ------>  根目录分区 >= 10G
! 4  ------>  Swap 分区

格式化分区

mkfs.vfat /dev/sda3            EFI 分区（留意是不是 sda3）
mkfs.ext4 /dev/sda1          根目录分区（留意是不是 sda1）
mkfs.ext4 /dev/sda2           Home 目录分区（留意是不是 sda2）
mkswap -f /dev/sda4          Swap 分区（留意是不是 sda4）
swapon /dev/sda4              打开交换分区

* 挂载

mount /dev/sda1 /mnt                先挂载根目录
mkdir /mnt/home
mount /dev/sda2 /mnt/home       挂载 Home 目录
mkdir /mnt/boot
mkdir /mnt/boot/EFI
mount /dev/sda3 /mnt/boot/EFI   挂载 EFI 分区

* 安装基础包

pacstrap /mnt base                   最基础的包
pacstrap /mnt base-devel
genfstab -U /mnt >> /mnt/etc/fstab      生成 fstab

* 切换环境，设置时区

arch-chroot /mnt
ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime  时区
hwclock --systohc 硬件时间

* 安装一个好用的编辑器

pacman -S emacs or pacman -S vim

* 设置语言环境

emacs /etc/locale.gen         注释掉里面的 en_US.UTF-8 UTF-8，保存退出
locale-gen                          生成 locale

emacs /etc/locale.conf        加入以下两行配置
LANG=en_US.UTF-8
LANG=zh_CN.UTF-8

* 重置 root 密码，以及联网包

passwd root
pacman -S networkmanager
systemctl enable NetworkManager

* 其余的安装

pacman -S intel-ucode
pacman -S grub efibootmgr

grub-install --target=x86_64-efi --efi-directory=/boot/EFI --bootloader-id=grub
grub-mkconfig -o /boot/grub/grub.cfg
exit

* 卸载分区

exit
umount -R /mnt
