<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Vistual Studio 搭建 OpenGL 环境"><title>Visual Studio & OpenGL</title><link rel=canonical href=https://yantree.github.io/p/visual-studio-opengl/><link rel=stylesheet href=/scss/style.min.css><meta property="og:title" content="Visual Studio & OpenGL"><meta property="og:description" content="Vistual Studio 搭建 OpenGL 环境"><meta property="og:url" content="https://yantree.github.io/p/visual-studio-opengl/"><meta property="og:site_name" content="YanTree"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:published_time" content="2020-12-29T23:09:27+08:00"><meta property="article:modified_time" content="2020-12-29T23:09:27+08:00"><meta property="og:image" content="https://yantree.github.io/p/visual-studio-opengl/topimg.png"><meta name=twitter:title content="Visual Studio & OpenGL"><meta name=twitter:description content="Vistual Studio 搭建 OpenGL 环境"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://yantree.github.io/p/visual-studio-opengl/topimg.png"><link rel="shortcut icon" href=img/favicon.ico></head><body><script>(function(){const a='StackColorScheme';localStorage.getItem(a)||localStorage.setItem(a,"auto")})()</script><script>(function(){const b='StackColorScheme',a=localStorage.getItem(b),c=window.matchMedia('(prefers-color-scheme: dark)').matches===!0;a=='dark'||a==='auto'&&c?document.body.dataset.scheme='dark':document.body.dataset.scheme='light'})()</script><div class="container main-container flex on-phone--column extended article-page with-toolbar"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header class=site-info><figure class=site-avatar><img src=/img/avatar_hud8215445c04336af6f3d5658bab85db7_7222_300x0_resize_box_2.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
<span class=emoji>🍥</span></figure><h1 class=site-name><a href=https://yantree.github.io/>YanTree</a></h1><h2 class=site-description>子非蝶，亦非周</h2></header><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>主页</span></a></li><li><a href=/%E5%85%B3%E4%BA%8E/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>关于</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>归档</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>搜索</span></a></li><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>暗色模式</span></li></ol></aside><main class="main full-width"><div id=article-toolbar><a href=https://yantree.github.io/ class=back-home><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="15 6 9 12 15 18"/></svg><span>Back</span></a></div><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/visual-studio-opengl/><img src=/p/visual-studio-opengl/topimg_hu2678ed699bd9406efb77dd8c989f9dae_380743_800x0_resize_box_2.png srcset="/p/visual-studio-opengl/topimg_hu2678ed699bd9406efb77dd8c989f9dae_380743_800x0_resize_box_2.png 800w, /p/visual-studio-opengl/topimg_hu2678ed699bd9406efb77dd8c989f9dae_380743_1600x0_resize_box_2.png 1600w" width=800 height=601 loading=lazy alt="Featured image of post Visual Studio & OpenGL"></a></div><div class=article-details><header class=article-category><a href=/categories/opengl/>OpenGL</a></header><h2 class=article-title><a href=/p/visual-studio-opengl/>Visual Studio & OpenGL</a></h2><h3 class=article-subtitle>Vistual Studio 搭建 OpenGL 环境</h3><footer class=article-time><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--published>Dec 29, 2020</time></footer></div></header><section class=article-content><h1 id=visual-studio--opengl>Visual Studio & OpenGL</h1><p>这里采用的方案与 <strong><a class=link href=https://learnopengl.com/Getting-started/Creating-a-window target=_blank rel=noopener>LearnOpenGL</a></strong> 一样，使用 <strong>glfw</strong> 和 <strong>glad</strong>。❗ 个人使用 <strong>win10</strong> 环境。</p><p><strong>Table of Contents</strong></p><ul><li><a class=link href=#visual-studio--opengl>Visual Studio & OpenGL</a><ul><li><a class=link href=#1-%e9%85%8d%e7%bd%ae-visual-studio>1. 配置 Visual Studio</a></li><li><a class=link href=#2-%e6%9e%84%e5%bb%ba%e5%bc%80%e5%8f%91%e6%a8%a1%e5%9d%97>2. 构建开发模块</a></li><li><a class=link href=#3-visual-studio-%e7%bc%96%e8%af%91-glfw>3. visual Studio 编译 GLFW</a></li><li><a class=link href=#4-%e4%b8%8b%e8%bd%bd-glad>4. 下载 GLAD</a></li><li><a class=link href=#5-%e8%ae%be%e7%bd%ae%e9%a1%b9%e7%9b%ae>5. 设置项目</a></li><li><a class=link href=#6-%e6%b5%8b%e8%af%95%e7%94%a8%e4%be%8b>6. 测试用例</a></li></ul></li></ul><h2 id=1-配置-visual-studio>1. 配置 Visual Studio</h2><p>安装基本的开发包，有两个必装的包。这里我使用了英文，在语言包里，我还选择了 <strong>English</strong> 安装包。</p><p><figure style=flex-grow:200;flex-basis:480px><a href=/p/visual-studio-opengl/2020-12-29-visual-studio-opengl-inistalize.png data-size=1570x785><img src=/p/visual-studio-opengl/2020-12-29-visual-studio-opengl-inistalize.png srcset="/p/visual-studio-opengl/2020-12-29-visual-studio-opengl-inistalize_huda128796a8620fd8d1a2f0c57a1fdcea_123716_480x0_resize_box_2.png 480w, /p/visual-studio-opengl/2020-12-29-visual-studio-opengl-inistalize_huda128796a8620fd8d1a2f0c57a1fdcea_123716_1024x0_resize_box_2.png 1024w" width=1570 height=785 loading=lazy alt=安装模块></a><figcaption>安装模块</figcaption></figure></p><h2 id=2-构建开发模块>2. 构建开发模块</h2><p>新建一个 <strong>OpenGL</strong> 文件夹</p><ul><li><p>下载 <strong><a class=link href=https://cmake.org/download/ target=_blank rel=noopener>CMake</a></strong> ，新电脑选择 x64 的安装包，安装 CMake。</p></li><li><p>下载 <strong><a class=link href=https://www.glfw.org/download.html target=_blank rel=noopener>GLFW官网</a></strong>，点击下载 <strong>Source package</strong>，并解压至 <strong>OpenGL</strong> 文件夹。</p></li><li><p>使用 CMake 编译 GLFW。</p><ol><li><p>当前文件目录如下：</p><p><figure style=flex-grow:141;flex-basis:338px><a href=/p/visual-studio-opengl/2020-12-30-opengl-directory.png data-size=1128x799><img src=/p/visual-studio-opengl/2020-12-30-opengl-directory.png srcset="/p/visual-studio-opengl/2020-12-30-opengl-directory_hufbc7154665c30cd809f8d85de53662fe_52871_480x0_resize_box_2.png 480w, /p/visual-studio-opengl/2020-12-30-opengl-directory_hufbc7154665c30cd809f8d85de53662fe_52871_1024x0_resize_box_2.png 1024w" width=1128 height=799 loading=lazy alt=项目目录></a><figcaption>项目目录</figcaption></figure></p><p>build 文件夹是我自己创建的，待会编译会用到。</p></li><li><p>双击 CMake-gui 程序，进行编译。</p><p>先设置好对应文件夹，如下图所示：<strong>source code</strong> 是解压后的 glfw-3.3.2 文件目录，<strong>build binaries</strong> 是我们新建的 build 文件夹，对应关系如上图所示。</p><p><figure style=flex-grow:229;flex-basis:550px><a href=/p/visual-studio-opengl/2020-12-30-CMake-glfw-vs-2019.png data-size=1271x554><img src=/p/visual-studio-opengl/2020-12-30-CMake-glfw-vs-2019.png srcset="/p/visual-studio-opengl/2020-12-30-CMake-glfw-vs-2019_hu8428fd3068b8e6fbca41ef419ab8ae22_93086_480x0_resize_box_2.png 480w, /p/visual-studio-opengl/2020-12-30-CMake-glfw-vs-2019_hu8428fd3068b8e6fbca41ef419ab8ae22_93086_1024x0_resize_box_2.png 1024w" width=1271 height=554 loading=lazy alt="Cmake build glfw"></a><figcaption>Cmake build glfw</figcaption></figure></p></li><li><p>接下来点击下面的 Configure 按钮。</p><p><figure style=flex-grow:218;flex-basis:524px><a href=/p/visual-studio-opengl/2020-12-30-CMake-glfw-configure.png data-size=1297x593><img src=/p/visual-studio-opengl/2020-12-30-CMake-glfw-configure.png srcset="/p/visual-studio-opengl/2020-12-30-CMake-glfw-configure_hu065d9883e451eafff5e12cd16c4ab913_126425_480x0_resize_box_2.png 480w, /p/visual-studio-opengl/2020-12-30-CMake-glfw-configure_hu065d9883e451eafff5e12cd16c4ab913_126425_1024x0_resize_box_2.png 1024w" width=1297 height=593 loading=lazy alt="Cmake 配置"></a><figcaption>Cmake 配置</figcaption></figure></p><p>会弹出下图右边的小弹窗，确定选择的是 Visual Studio 16 2019 平台，完成后，点击下面的 Finish 按钮。</p></li><li><p>真正开始编译</p><p>上面点击完 Finish 后等一会会出现如下图左边的红色页面，此时我们点击左边的 <strong>Generate</strong> 开始编译。</p><p><figure style=flex-grow:233;flex-basis:560px><a href=/p/visual-studio-opengl/2020-12-30-CMake-glfw-generate.png data-size=1277x547><img src=/p/visual-studio-opengl/2020-12-30-CMake-glfw-generate.png srcset="/p/visual-studio-opengl/2020-12-30-CMake-glfw-generate_hu4a0fab0c16c2489634929aa5061bfdb3_223580_480x0_resize_box_2.png 480w, /p/visual-studio-opengl/2020-12-30-CMake-glfw-generate_hu4a0fab0c16c2489634929aa5061bfdb3_223580_1024x0_resize_box_2.png 1024w" width=1277 height=547 loading=lazy alt="Cmake 编译"></a><figcaption>Cmake 编译</figcaption></figure></p><p>此时，CMake 已经完成了它的所有任务。</p></li></ol></li></ul><h2 id=3-visual-studio-编译-glfw>3. visual Studio 编译 GLFW</h2><p>在 CMake 完成编译后，上图的右边部分，我们可以直接点击 <strong>Open Project</strong> 用 Visual Studio 打开 project ，或者双击 build 后里的 <strong>GLFW.sln</strong> 文件，打开 project 后，点击 <strong>build -> build solution</strong>， 完成后会在 <strong>build -> src -> Debug</strong> 里生成 <strong>glfw3.lib</strong> 文件，这是我们需要的。</p><h2 id=4-下载-glad>4. 下载 GLAD</h2><p>点击 <strong><a class=link href=https://glad.dav1d.de/ target=_blank rel=noopener>这里</a></strong> 打开 GLAD 在线服务，设置如下：</p><p><figure style=flex-grow:129;flex-basis:310px><a href=/p/visual-studio-opengl/2020-12-30-glad-online.png data-size=1229x951><img src=/p/visual-studio-opengl/2020-12-30-glad-online.png srcset="/p/visual-studio-opengl/2020-12-30-glad-online_hube4b39f3a15266da6f6fabb917df5c5a_67754_480x0_resize_box_2.png 480w, /p/visual-studio-opengl/2020-12-30-glad-online_hube4b39f3a15266da6f6fabb917df5c5a_67754_1024x0_resize_box_2.png 1024w" width=1229 height=951 loading=lazy alt=下载GLAD></a><figcaption>下载GLAD</figcaption></figure></p><p>确保 Options 下面勾选上了 <strong>Generate a loader</strong>，最后点击页面最下面的 <strong>GENERATE</strong>，此时会打开另一个页面，我们点击下面的 <strong>glad.zip</strong> ，下载 glad。将其解压在 <strong>OpenGL</strong> 文件夹下，此时 OpenGL 文件下会多出 <strong>include、src</strong> 文件夹。</p><h2 id=5-设置项目>5. 设置项目</h2><p>这一步我们会重点关注两个文件夹，前面的 <strong>OpenGL</strong> 和接下来要创建的项目文件夹 <strong>Learn OpenGL</strong> 。</p><p>打开 Visual Studio 新建一个空的 project，结果如图：</p><p><figure style=flex-grow:150;flex-basis:360px><a href=/p/visual-studio-opengl/2020-12-30-enpty-opengl-project.png data-size=1277x849><img src=/p/visual-studio-opengl/2020-12-30-enpty-opengl-project.png srcset="/p/visual-studio-opengl/2020-12-30-enpty-opengl-project_hud1c1c592a931b72745d67f91fc603d9c_33866_480x0_resize_box_2.png 480w, /p/visual-studio-opengl/2020-12-30-enpty-opengl-project_hud1c1c592a931b72745d67f91fc603d9c_33866_1024x0_resize_box_2.png 1024w" width=1277 height=849 loading=lazy alt=创建空项目></a><figcaption>创建空项目</figcaption></figure></p><p>在 LearnOpenGL 项目里新建文件夹 OpenGL_Stuff，并创建子文件夹 includes，lib，当前 LearnOpenGL 项目目录结构</p><p><figure style=flex-grow:94;flex-basis:225px><a href=/p/visual-studio-opengl/2020-12-30-directory-before.png data-size=237x252><img src=/p/visual-studio-opengl/2020-12-30-directory-before.png srcset="/p/visual-studio-opengl/2020-12-30-directory-before_hua6b082968871855f8558cacf914793a6_6572_480x0_resize_box_2.png 480w, /p/visual-studio-opengl/2020-12-30-directory-before_hua6b082968871855f8558cacf914793a6_6572_1024x0_resize_box_2.png 1024w" width=237 height=252 loading=lazy alt=项目目录></a><figcaption>项目目录</figcaption></figure></p><p>当前的 OpenGL 目录如下：</p><p><figure style=flex-grow:90;flex-basis:216px><a href=/p/visual-studio-opengl/2020-12-30-opengl-directory-after.png data-size=183x203><img src=/p/visual-studio-opengl/2020-12-30-opengl-directory-after.png srcset="/p/visual-studio-opengl/2020-12-30-opengl-directory-after_hu0537b940e5ce0bd5a95fe22a00371334_3520_480x0_resize_box_2.png 480w, /p/visual-studio-opengl/2020-12-30-opengl-directory-after_hu0537b940e5ce0bd5a95fe22a00371334_3520_1024x0_resize_box_2.png 1024w" width=183 height=203 loading=lazy alt=项目目录></a><figcaption>项目目录</figcaption></figure></p><p>将 <strong>OpenGL -> build -> src -> Debug</strong> 里生成 <strong>glfw3.lib</strong> 文件复制到 <strong>LearnOpenGL -> OpenGL_Stuff -> lib</strong> 文件夹中，将 <strong>OpenGL -> glfw-3.3.2 -> include</strong> 里的 <strong>GLFW</strong> 文件夹复制到 <strong>LearnOpenGL -> OpenGL_Stuff -> includes</strong> 文件夹中，将 **OpenGL -> include ** 里的 <strong>glad，KHR</strong> 文件夹复制到 <strong>LearnOpenGL -> OpenGL_Stuff -> includes</strong> 文件夹中。完成后的 <strong>LearnOpenGL</strong> 项目目录结构：</p><p><figure style=flex-grow:68;flex-basis:164px><a href=/p/visual-studio-opengl/2020-12-30-directory-after.png data-size=243x354><img src=/p/visual-studio-opengl/2020-12-30-directory-after.png srcset="/p/visual-studio-opengl/2020-12-30-directory-after_hu15a13880a22a7df9277d197e00ac621b_8518_480x0_resize_box_2.png 480w, /p/visual-studio-opengl/2020-12-30-directory-after_hu15a13880a22a7df9277d197e00ac621b_8518_1024x0_resize_box_2.png 1024w" width=243 height=354 loading=lazy alt=项目目录></a><figcaption>项目目录</figcaption></figure></p><p>双击 <strong>LearnOpenGL.sln</strong> 打开项目，还要将 <strong>OpenGL -> src</strong> 里的 <strong>glad.c</strong> 文件添加进 <strong>Learn OpenGL</strong> 项目里。打开 Visual Studio 后，直接将 glad.c 文件拖拽至 <strong>Source Files</strong> 目录里。</p><figure><img src=../../../img/develop/2020-12-30-add-glad.c-file.png alt=2020-12-30-add-glad.c-file></figure><p><figure style=flex-grow:99;flex-basis:237px><a href=/p/visual-studio-opengl/2020-12-30-add-glad-file.png data-size=317x320><img src=/p/visual-studio-opengl/2020-12-30-add-glad-file.png srcset="/p/visual-studio-opengl/2020-12-30-add-glad-file_hu41a5803025f1b4689a66e82d7e910f29_18589_480x0_resize_box_2.png 480w, /p/visual-studio-opengl/2020-12-30-add-glad-file_hu41a5803025f1b4689a66e82d7e910f29_18589_1024x0_resize_box_2.png 1024w" width=317 height=320 loading=lazy alt=项目目录></a><figcaption>项目目录</figcaption></figure></p><p>接下来就是对 <strong>Learn OpenGL</strong> 项目属性设置了，打开项目后，<strong>Project -> Properties</strong> 。</p><p>左边点击 <strong>VC++ Directories</strong></p><ol><li><p>编辑右边的 <strong>General -> Include Directories</strong>，选择 <strong>includes</strong> 文件路径，点击一下右下角的 <strong>Apply</strong> 按钮；</p></li><li><p>编辑右边的 <strong>General -> Library Directories</strong>，选择 <strong>lib</strong> 文件路径，点击一下右下角的 <strong>Apply</strong> 按钮；</p><p><figure style=flex-grow:170;flex-basis:410px><a href=/p/visual-studio-opengl/2020-12-30-opengl-vs-vc++directory.png data-size=1354x792><img src=/p/visual-studio-opengl/2020-12-30-opengl-vs-vc++directory.png srcset="/p/visual-studio-opengl/2020-12-30-opengl-vs-vc++directory_hu185b8888a615bcb010ded8a961893a72_73341_480x0_resize_box_2.png 480w, /p/visual-studio-opengl/2020-12-30-opengl-vs-vc++directory_hu185b8888a615bcb010ded8a961893a72_73341_1024x0_resize_box_2.png 1024w" width=1354 height=792 loading=lazy alt="Visual Studio 添加文件路径"></a><figcaption>Visual Studio 添加文件路径</figcaption></figure></p></li></ol><p>左边点击 <strong>Linker -> Input</strong></p><p>编辑右边的 <strong>Additional Dependencies</strong>，输入 <strong>opengl32.lib</strong> 按一下回车继续输入 <strong>glfw3.lib</strong> ，点击一下右下角的 <strong>Apply</strong> 按钮；</p><p><figure style=flex-grow:169;flex-basis:407px><a href=/p/visual-studio-opengl/2020-12-30-opengl-vs-linker-input.png data-size=1354x797><img src=/p/visual-studio-opengl/2020-12-30-opengl-vs-linker-input.png srcset="/p/visual-studio-opengl/2020-12-30-opengl-vs-linker-input_huaaefca8c85c78540c61faec8ec292904_59942_480x0_resize_box_2.png 480w, /p/visual-studio-opengl/2020-12-30-opengl-vs-linker-input_huaaefca8c85c78540c61faec8ec292904_59942_1024x0_resize_box_2.png 1024w" width=1354 height=797 loading=lazy alt="Visual Studio 添加依赖"></a><figcaption>Visual Studio 添加依赖</figcaption></figure></p><p>到这儿，整个配置环境就搭建好了。</p><h2 id=6-测试用例>6. 测试用例</h2><p>新建cpp文件并测试，下面的是测试代码</p><div class=highlight><pre class=chroma><code class=language-c++ data-lang=c++><span class=cp>#include</span> <span class=cpf>&lt;glad/glad.h&gt;</span><span class=cp>
</span><span class=cp>#include</span> <span class=cpf>&lt;GLFW/glfw3.h&gt;</span><span class=cp>
</span><span class=cp></span>
<span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span><span class=cp></span>
<span class=kt>void</span> <span class=nf>framebuffer_size_callback</span><span class=p>(</span><span class=n>GLFWwindow</span><span class=o>*</span> <span class=n>window</span><span class=p>,</span> <span class=kt>int</span> <span class=n>width</span><span class=p>,</span> <span class=kt>int</span> <span class=n>height</span><span class=p>);</span>
<span class=kt>void</span> <span class=nf>processInput</span><span class=p>(</span><span class=n>GLFWwindow</span><span class=o>*</span> <span class=n>window</span><span class=p>);</span>

<span class=c1>// settings
</span><span class=c1></span><span class=k>const</span> <span class=kt>unsigned</span> <span class=kt>int</span> <span class=n>SCR_WIDTH</span> <span class=o>=</span> <span class=mi>800</span><span class=p>;</span>
<span class=k>const</span> <span class=kt>unsigned</span> <span class=kt>int</span> <span class=n>SCR_HEIGHT</span> <span class=o>=</span> <span class=mi>600</span><span class=p>;</span>

<span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
<span class=p>{</span>
    <span class=c1>// glfw: initialize and configure
</span><span class=c1></span>    <span class=c1>// ------------------------------
</span><span class=c1></span>    <span class=n>glfwInit</span><span class=p>();</span>
    <span class=n>glfwWindowHint</span><span class=p>(</span><span class=n>GLFW_CONTEXT_VERSION_MAJOR</span><span class=p>,</span> <span class=mi>3</span><span class=p>);</span>
    <span class=n>glfwWindowHint</span><span class=p>(</span><span class=n>GLFW_CONTEXT_VERSION_MINOR</span><span class=p>,</span> <span class=mi>3</span><span class=p>);</span>
    <span class=n>glfwWindowHint</span><span class=p>(</span><span class=n>GLFW_OPENGL_PROFILE</span><span class=p>,</span> <span class=n>GLFW_OPENGL_CORE_PROFILE</span><span class=p>);</span>

<span class=cp>#ifdef __APPLE__
</span><span class=cp></span>    <span class=n>glfwWindowHint</span><span class=p>(</span><span class=n>GLFW_OPENGL_FORWARD_COMPAT</span><span class=p>,</span> <span class=n>GL_TRUE</span><span class=p>);</span>
<span class=cp>#endif
</span><span class=cp></span>
    <span class=c1>// glfw window creation
</span><span class=c1></span>    <span class=c1>// --------------------
</span><span class=c1></span>    <span class=n>GLFWwindow</span><span class=o>*</span> <span class=n>window</span> <span class=o>=</span> <span class=n>glfwCreateWindow</span><span class=p>(</span><span class=n>SCR_WIDTH</span><span class=p>,</span> <span class=n>SCR_HEIGHT</span><span class=p>,</span> <span class=s>&#34;LearnOpenGL&#34;</span><span class=p>,</span> <span class=nb>NULL</span><span class=p>,</span> <span class=nb>NULL</span><span class=p>);</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>window</span> <span class=o>==</span> <span class=nb>NULL</span><span class=p>)</span>
    <span class=p>{</span>
        <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Failed to create GLFW window&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
        <span class=n>glfwTerminate</span><span class=p>();</span>
        <span class=k>return</span> <span class=o>-</span><span class=mi>1</span><span class=p>;</span>
    <span class=p>}</span>
    <span class=n>glfwMakeContextCurrent</span><span class=p>(</span><span class=n>window</span><span class=p>);</span>
    <span class=n>glfwSetFramebufferSizeCallback</span><span class=p>(</span><span class=n>window</span><span class=p>,</span> <span class=n>framebuffer_size_callback</span><span class=p>);</span>

    <span class=c1>// glad: load all OpenGL function pointers
</span><span class=c1></span>    <span class=c1>// ---------------------------------------
</span><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>gladLoadGLLoader</span><span class=p>((</span><span class=n>GLADloadproc</span><span class=p>)</span><span class=n>glfwGetProcAddress</span><span class=p>))</span>
    <span class=p>{</span>
        <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Failed to initialize GLAD&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
        <span class=k>return</span> <span class=o>-</span><span class=mi>1</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=c1>// render loop
</span><span class=c1></span>    <span class=c1>// -----------
</span><span class=c1></span>    <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>glfwWindowShouldClose</span><span class=p>(</span><span class=n>window</span><span class=p>))</span>
    <span class=p>{</span>
        <span class=c1>// input
</span><span class=c1></span>        <span class=c1>// -----
</span><span class=c1></span>        <span class=n>processInput</span><span class=p>(</span><span class=n>window</span><span class=p>);</span>

        <span class=c1>// render
</span><span class=c1></span>        <span class=c1>// ------
</span><span class=c1></span>        <span class=n>glClearColor</span><span class=p>(</span><span class=mf>0.2f</span><span class=p>,</span> <span class=mf>0.3f</span><span class=p>,</span> <span class=mf>0.3f</span><span class=p>,</span> <span class=mf>1.0f</span><span class=p>);</span>
        <span class=n>glClear</span><span class=p>(</span><span class=n>GL_COLOR_BUFFER_BIT</span><span class=p>);</span>

        <span class=c1>// glfw: swap buffers and poll IO events (keys pressed/released, mouse moved etc.)
</span><span class=c1></span>        <span class=c1>// -------------------------------------------------------------------------------
</span><span class=c1></span>        <span class=n>glfwSwapBuffers</span><span class=p>(</span><span class=n>window</span><span class=p>);</span>
        <span class=n>glfwPollEvents</span><span class=p>();</span>
    <span class=p>}</span>

    <span class=c1>// glfw: terminate, clearing all previously allocated GLFW resources.
</span><span class=c1></span>    <span class=c1>// ------------------------------------------------------------------
</span><span class=c1></span>    <span class=n>glfwTerminate</span><span class=p>();</span>
    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>

<span class=c1>// process all input: query GLFW whether relevant keys are pressed/released this frame and react accordingly
</span><span class=c1>// ---------------------------------------------------------------------------------------------------------
</span><span class=c1></span><span class=kt>void</span> <span class=nf>processInput</span><span class=p>(</span><span class=n>GLFWwindow</span><span class=o>*</span> <span class=n>window</span><span class=p>)</span>
<span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>glfwGetKey</span><span class=p>(</span><span class=n>window</span><span class=p>,</span> <span class=n>GLFW_KEY_ESCAPE</span><span class=p>)</span> <span class=o>==</span> <span class=n>GLFW_PRESS</span><span class=p>)</span>
        <span class=n>glfwSetWindowShouldClose</span><span class=p>(</span><span class=n>window</span><span class=p>,</span> <span class=nb>true</span><span class=p>);</span>
<span class=p>}</span>

<span class=c1>// glfw: whenever the window size changed (by OS or user resize) this callback function executes
</span><span class=c1>// ---------------------------------------------------------------------------------------------
</span><span class=c1></span><span class=kt>void</span> <span class=nf>framebuffer_size_callback</span><span class=p>(</span><span class=n>GLFWwindow</span><span class=o>*</span> <span class=n>window</span><span class=p>,</span> <span class=kt>int</span> <span class=n>width</span><span class=p>,</span> <span class=kt>int</span> <span class=n>height</span><span class=p>)</span>
<span class=p>{</span>
    <span class=c1>// make sure the viewport matches the new window dimensions; note that width and 
</span><span class=c1></span>    <span class=c1>// height will be significantly larger than specified on retina displays.
</span><span class=c1></span>    <span class=n>glViewport</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>width</span><span class=p>,</span> <span class=n>height</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div><p>如果有报错的话，很可能是上一步的 <strong>Project -> Properties</strong> 的属性设置被复原了，此时查看一下对应的 <strong>Include Directories ，Library Directories，Additional Dependencies</strong> 的设置，如果被复原了，再重复一遍上一步的项目属性设置的操作。完成后，再编译上面代码就能看到一个窗口了。</p><figure><img src=../../../img/develop/ alt=2020-12-30-opengl-hello-window></figure><p><figure style=flex-grow:177;flex-basis:426px><a href=/p/visual-studio-opengl/2020-12-30-opengl-hello-window.png data-size=1920x1080><img src=/p/visual-studio-opengl/2020-12-30-opengl-hello-window.png srcset="/p/visual-studio-opengl/2020-12-30-opengl-hello-window_hu099abefb2fae81d68b9b4545233550d5_147922_480x0_resize_box_2.png 480w, /p/visual-studio-opengl/2020-12-30-opengl-hello-window_hu099abefb2fae81d68b9b4545233550d5_147922_1024x0_resize_box_2.png 1024w" width=1920 height=1080 loading=lazy alt="OpenGL 简单窗口"></a><figcaption>OpenGL 简单窗口</figcaption></figure></p><h2 id=总结>总结</h2><p>配置过程中可能会出现的问题在第六步的最下面有提到过，这里的问题产生的原因在于项目创建之后，没有创建一份文件cpp，属性设置为 <strong>Project -> Property</strong>，在创建一份cpp文件后，属性设置变为 <strong>Project -> [project name] Property</strong>。不过，没什么大的问题，重新设置一下第5步提到的 directory 就可以了。</p></section><footer class=article-footer><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-contents--wrapper></aside><script src=https://utteranc.es/client.js repo issue-term=pathname crossorigin=anonymous async></script><style>.utterances{max-width:unset}</style><script>function setUtterancesTheme(b){let a=document.querySelector('.utterances iframe');a&&a.contentWindow.postMessage({type:'set-theme',theme:`github-${b}`},'https://utteranc.es')}addEventListener('message',a=>{if(a.origin!=='https://utteranc.es')return;setUtterancesTheme(document.body.dataset.scheme)}),window.addEventListener('onColorSchemeChange',a=>{setUtterancesTheme(a.detail)})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2021 YanTree</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=2.3.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous defer></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const a=document.createElement('link');a.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",a.type="text/css",a.rel="stylesheet",document.head.appendChild(a)})()</script></body></html>