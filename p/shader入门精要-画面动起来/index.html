<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="çº¹ç†åŠ¨ç”»ï¼Œé¡¶ç‚¹åŠ¨ç”»"><title>Shaderå…¥é—¨ç²¾è¦-ç”»é¢åŠ¨èµ·æ¥</title><link rel=canonical href=https://yantree.github.io/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%94%BB%E9%9D%A2%E5%8A%A8%E8%B5%B7%E6%9D%A5/><link rel=stylesheet href=/scss/style.min.css><meta property="og:title" content="Shaderå…¥é—¨ç²¾è¦-ç”»é¢åŠ¨èµ·æ¥"><meta property="og:description" content="çº¹ç†åŠ¨ç”»ï¼Œé¡¶ç‚¹åŠ¨ç”»"><meta property="og:url" content="https://yantree.github.io/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%94%BB%E9%9D%A2%E5%8A%A8%E8%B5%B7%E6%9D%A5/"><meta property="og:site_name" content="YanTree"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="Shaderå…¥é—¨ç²¾è¦"><meta property="article:published_time" content="2021-06-05T10:41:12+08:00"><meta property="article:modified_time" content="2021-06-05T10:41:12+08:00"><meta property="og:image" content="https://yantree.github.io/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%94%BB%E9%9D%A2%E5%8A%A8%E8%B5%B7%E6%9D%A5/topimg.png"><meta name=twitter:title content="Shaderå…¥é—¨ç²¾è¦-ç”»é¢åŠ¨èµ·æ¥"><meta name=twitter:description content="çº¹ç†åŠ¨ç”»ï¼Œé¡¶ç‚¹åŠ¨ç”»"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://yantree.github.io/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%94%BB%E9%9D%A2%E5%8A%A8%E8%B5%B7%E6%9D%A5/topimg.png"><link rel="shortcut icon" href=img/favicon.ico></head><body><script>(function(){const a='StackColorScheme';localStorage.getItem(a)||localStorage.setItem(a,"auto")})()</script><script>(function(){const b='StackColorScheme',a=localStorage.getItem(b),c=window.matchMedia('(prefers-color-scheme: dark)').matches===!0;a=='dark'||a==='auto'&&c?document.body.dataset.scheme='dark':document.body.dataset.scheme='light'})()</script><div class="container main-container flex on-phone--column extended article-page with-toolbar"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header class=site-info><figure class=site-avatar><img src=/img/avatar_hud8215445c04336af6f3d5658bab85db7_7222_300x0_resize_box_2.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
<span class=emoji>ğŸ¥</span></figure><h1 class=site-name><a href=https://yantree.github.io/>YanTree</a></h1><h2 class=site-description>å­éè¶ï¼Œäº¦éå‘¨</h2></header><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>Home</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>Archives</span></a></li><li><a href=/about/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>About</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>Search</span></a></li><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Dark Mode</span></li></ol></aside><main class="main full-width"><div id=article-toolbar><a href=https://yantree.github.io/ class=back-home><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="15 6 9 12 15 18"/></svg><span>Back</span></a></div><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%94%BB%E9%9D%A2%E5%8A%A8%E8%B5%B7%E6%9D%A5/><img src=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%94%BB%E9%9D%A2%E5%8A%A8%E8%B5%B7%E6%9D%A5/topimg_huc02f10a1e3cad6ccefc74d8d773bec3e_154933_800x0_resize_box_2.png srcset="/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%94%BB%E9%9D%A2%E5%8A%A8%E8%B5%B7%E6%9D%A5/topimg_huc02f10a1e3cad6ccefc74d8d773bec3e_154933_800x0_resize_box_2.png 800w, /p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%94%BB%E9%9D%A2%E5%8A%A8%E8%B5%B7%E6%9D%A5/topimg_huc02f10a1e3cad6ccefc74d8d773bec3e_154933_1600x0_resize_box_2.png 1600w" width=800 height=466 loading=lazy alt="Featured image of post Shaderå…¥é—¨ç²¾è¦-ç”»é¢åŠ¨èµ·æ¥"></a></div><div class=article-details><header class=article-category><a href=/categories/%E6%B8%B2%E6%9F%93/>æ¸²æŸ“</a></header><h2 class=article-title><a href=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%94%BB%E9%9D%A2%E5%8A%A8%E8%B5%B7%E6%9D%A5/>Shaderå…¥é—¨ç²¾è¦-ç”»é¢åŠ¨èµ·æ¥</a></h2><h3 class=article-subtitle>çº¹ç†åŠ¨ç”»ï¼Œé¡¶ç‚¹åŠ¨ç”»</h3><footer class=article-time><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--published>Jun 05, 2021</time></footer></div></header><section class=article-content><h1 id=æŠ€æœ¯ç¾æœ¯åŠ¨ç”»>æŠ€æœ¯ç¾æœ¯â€”â€”åŠ¨ç”»</h1><p>Unity Shader æä¾›äº†ä¸€ç³»åˆ—å…³äºæ—¶é—´çš„å†…ç½®å˜é‡ï¼Œå¯ä»¥æ–¹ä¾¿åœ°åœ¨ Shader ä¸­è®¿é—®ï¼Œå®ç°å„ç§åŠ¨ç”»æ•ˆæœã€‚ä¸‹è¡¨ç»™å‡ºäº†è¿™äº›å†…ç½®çš„æ—¶é—´å˜é‡ã€‚</p><table><thead><tr><th>åç§°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td>_Time</td><td>float4</td><td>t æ˜¯è‡ªè¯¥åœºæ™¯åŠ è½½å¼€å§‹æ‰€ç»è¿‡çš„æ—¶é—´ï¼Œ4 ä¸ªåˆ†é‡çš„å€¼åˆ†åˆ«æ˜¯ ( t/20, t, 1t, 3t)</td></tr><tr><td>_SinTime</td><td>float4</td><td>t æ˜¯æ—¶é—´çš„æ­£å¼¦å€¼ï¼Œ4 ä¸ªåˆ†é‡çš„å€¼åˆ†åˆ«æ˜¯ ( t/8, t/4, t/2, t)</td></tr><tr><td>_CosTime</td><td>float4</td><td>t æ˜¯æ—¶é—´çš„ä½™å¼¦å€¼ï¼Œ4 ä¸ªåˆ†é‡çš„å€¼åˆ†åˆ«æ˜¯ ( t/8, t/4, t/2, t)</td></tr><tr><td>unity_DeltaTime</td><td>float4</td><td>dt æ˜¯æ—¶é—´å¢é‡ï¼Œ4 ä¸ªåˆ†é‡çš„å€¼åˆ†åˆ«æ˜¯ ( dt, 1/dt, smoothDt, 1/smoothDt)</td></tr></tbody></table><h2 id=çº¹ç†åŠ¨ç”»>çº¹ç†åŠ¨ç”»</h2><p>çº¹ç†åŠ¨ç”»åœ¨æ¸¸æˆä¸­åº”è¯¥éå¸¸å¹¿æ³›ï¼Œå°¤å…¶æ˜¯åœ¨èµ„æºæ¯”è¾ƒå±€é™çš„ç§»åŠ¨å¹³å°ä¸Šï¼Œå¾€å¾€ä¼šä½¿ç”¨çº¹ç†åŠ¨ç”»æ¥ä»£æ›¿å¤æ‚çš„ç²’å­ç³»ç»Ÿç­‰æ¨¡æ‹Ÿçš„å„ç§åŠ¨ç”»</p><h3 id=åºåˆ—å¸§åŠ¨ç”»>åºåˆ—å¸§åŠ¨ç”»</h3><p>åšåºåˆ—å¸§åŠ¨ç”»ï¼Œæˆ‘ä»¬å…ˆè¦æä¾›ä¸€å¼ åŒ…å«äº†å…³é”®å¸§å›¾åƒçš„å›¾åƒã€‚ä¾‹å¦‚ï¼š8 X 8 çš„å…³é”®å¸§å›¾åƒï¼Œä»–ä»¬çš„å¤§å°ç›¸åŒï¼Œè€Œä¸”æ’­æ”¾é¡ºåºä»å·¦åˆ°å³ã€ä»ä¸Šåˆ°ä¸‹ã€‚</p><p>åœ¨è¯¥ç€è‰²å™¨çš„å®ç°ä¸Šæˆ‘ä»¬éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p><ol><li>å£°æ˜å››ä¸ªå±æ€§ï¼Œ<strong>_MainTex</strong> æ˜¯åŒ…å«æ‰€æœ‰å…³é”®å¸§çš„çº¹ç†ï¼Œ<strong>_HorizontalAmount</strong> å’Œ <strong>_VerticalAmount</strong> åˆ†åˆ«ä»£è¡¨äº†è¯¥å›¾åƒåœ¨æ°´å¹³æ–¹å‘å’Œå‚ç›´æ–¹å‘ä¸ŠåŒ…å«çš„å…³é”®å¸§å›¾åƒä¸ªæ•°ï¼Œ<strong>_Speed</strong> ç”¨äºæ§åˆ¶åºåˆ—å¸§åŠ¨ç”»çš„æ’­æ”¾é€Ÿåº¦ã€‚</li><li>åœ¨é¡¶ç‚¹ç€è‰²å™¨ä¸­è¿›è¡ŒåŸºæœ¬çš„é¡¶ç‚¹å˜æ¢ï¼Œå¹¶æŠŠé¡¶ç‚¹çº¹ç†åæ ‡å­˜å‚¨åˆ°ç»“æ„ä½“ä¸­ã€‚æˆ‘ä»¬é€šè¿‡ <strong>TRANSFORM_TEX</strong> å‡½æ•°æ¥è·å–åˆå§‹çº¹ç†åæ ‡ã€‚</li><li>åœ¨ç‰‡å…ƒç€è‰²å™¨ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <strong>_Time.y</strong> å‡½æ•°å’Œé€Ÿåº¦å±æ€§ <strong>_Speed</strong> è¿›è¡Œç›¸ä¹˜æ¥æ¨¡æ‹Ÿæ—¶é—´ï¼Œç„¶åä½¿ç”¨ <strong>floor</strong> å‡½æ•°å¯¹ç»“æœå–æ•´æ¥å¾—åˆ°æ•´æ•°æ—¶é—´ã€‚</li><li>ä½¿ç”¨æ—¶é—´é™¤ä»¥ <strong>_HorizontalAmount</strong> æ¥å¾—åˆ°å½“å‰æ—¶é—´ä¸‹å¯¹åº”çš„ <strong>è¡Œç´¢å¼•</strong> ï¼Œè€Œ <strong>åˆ—ç´¢å¼•</strong> åˆ™ä¸ºä½™æ•°ã€‚</li><li>åé¢ä½¿ç”¨è¡Œåˆ—ç´¢å¼•æ„å»ºé‡‡æ ·åæ ‡ã€‚åœ¨è®¡ç®—ç«–ç›´çš„åç§»å€¼æ—¶éœ€è¦æ³¨æ„ï¼šç”±äº Unity ä¸­çº¹ç†åæ ‡ç«–ç›´æ–¹å‘çš„é¡ºåºï¼ˆä»ä¸‹åˆ°ä¸Šé€æ¸å¢å¤§ï¼‰å’Œåºåˆ—å¸§çº¹ç†ä¸­çš„é¡ºåºï¼ˆæ’­æ”¾é¡ºåºä»ä¸Šåˆ°ä¸‹ï¼‰æ—¶ç›¸åçš„ï¼Œæ‰€ä»¥è®¡ç®—ç«–ç›´æ–¹å‘åç§»é‡æ—¶è¦ä½¿ç”¨å‡æ³•ã€‚</li></ol><div class=highlight><pre class=chroma><code class=language-glsl data-lang=glsl><span class=n>Shader</span> <span class=err>&#34;</span><span class=n>Unlit</span><span class=o>/</span><span class=n>ImgAni</span><span class=err>&#34;</span>
<span class=p>{</span>
    <span class=n>Properties</span>
    <span class=p>{</span>
        <span class=n>_Color</span><span class=p>(</span><span class=err>&#34;</span><span class=n>Color</span><span class=err>&#34;</span><span class=p>,</span> <span class=n>Color</span><span class=p>)</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>)</span>
        <span class=n>_MainTex</span> <span class=p>(</span><span class=err>&#34;</span><span class=n>MainTex</span><span class=err>&#34;</span><span class=p>,</span> <span class=mi>2</span><span class=n>D</span><span class=p>)</span> <span class=o>=</span> <span class=err>&#34;</span><span class=n>white</span><span class=err>&#34;</span> <span class=p>{}</span>
        <span class=n>_HorizontalCount</span><span class=p>(</span><span class=err>&#34;</span><span class=n>Horizontal</span> <span class=n>Count</span><span class=err>&#34;</span><span class=p>,</span> <span class=n>Float</span><span class=p>)</span> <span class=o>=</span> <span class=mi>4</span>
        <span class=n>_VerticalCount</span><span class=p>(</span><span class=err>&#34;</span><span class=n>Vertical</span> <span class=n>Count</span><span class=err>&#34;</span><span class=p>,</span> <span class=n>Float</span><span class=p>)</span> <span class=o>=</span> <span class=mi>4</span>
        <span class=n>_Speed</span><span class=p>(</span><span class=err>&#34;</span><span class=n>Speed</span><span class=err>&#34;</span><span class=p>,</span> <span class=n>Float</span><span class=p>)</span> <span class=o>=</span> <span class=mf>1.0</span>
    <span class=p>}</span>
    <span class=n>SubShader</span>
    <span class=p>{</span>
        <span class=n>Tags</span> <span class=p>{</span> <span class=err>&#34;</span><span class=n>RenderType</span><span class=err>&#34;</span><span class=o>=</span><span class=err>&#34;</span><span class=n>Transparent</span><span class=err>&#34;</span> <span class=err>&#34;</span><span class=n>Queue</span><span class=err>&#34;</span><span class=o>=</span><span class=err>&#34;</span><span class=n>Transparent</span><span class=err>&#34;</span> <span class=err>&#34;</span><span class=n>IgnoreProjector</span><span class=err>&#34;</span><span class=o>=</span><span class=err>&#34;</span><span class=n>True</span><span class=err>&#34;</span> <span class=p>}</span>

        <span class=n>Pass</span>
        <span class=p>{</span>
            <span class=n>Tags</span> <span class=p>{</span><span class=err>&#34;</span><span class=n>LightMode</span><span class=err>&#34;</span><span class=o>=</span><span class=err>&#34;</span><span class=n>ForwardBase</span><span class=err>&#34;</span><span class=p>}</span>

            <span class=n>ZWrite</span> <span class=n>Off</span>

            <span class=n>Blend</span> <span class=n>SrcAlpha</span> <span class=n>OneMinusSrcAlpha</span>

            <span class=n>CGPROGRAM</span>
            <span class=err>#</span><span class=n>pragma</span> <span class=n>vertex</span> <span class=n>vert</span>
            <span class=err>#</span><span class=n>pragma</span> <span class=n>fragment</span> <span class=n>frag</span>

            <span class=err>#</span><span class=n>include</span> <span class=err>&#34;</span><span class=n>UnityCG</span><span class=p>.</span><span class=n>cginc</span><span class=err>&#34;</span>

            <span class=k>sampler2D</span> <span class=n>_MainTex</span><span class=p>;</span>
            <span class=n>float4</span> <span class=n>_MainTex_ST</span><span class=p>;</span>
            <span class=n>float4</span> <span class=n>_Color</span><span class=p>;</span>
            <span class=k>float</span> <span class=n>_HorizontalCount</span><span class=p>;</span>
            <span class=k>float</span> <span class=n>_VerticalCount</span><span class=p>;</span>
            <span class=k>float</span> <span class=n>_Speed</span><span class=p>;</span>

            <span class=k>struct</span> <span class=n>appdata</span>
            <span class=p>{</span>
                <span class=n>float4</span> <span class=n>vertex</span> <span class=o>:</span> <span class=n>POSITION</span><span class=p>;</span>
                <span class=n>float2</span> <span class=n>texcoord</span> <span class=o>:</span> <span class=n>TEXCOORD0</span><span class=p>;</span>
            <span class=p>};</span>

            <span class=k>struct</span> <span class=n>v2f</span>
            <span class=p>{</span>
                <span class=n>float4</span> <span class=n>pos</span> <span class=o>:</span> <span class=n>SV_POSITION</span><span class=p>;</span>
                <span class=n>float2</span> <span class=n>uv</span> <span class=o>:</span> <span class=n>TEXCOORD0</span><span class=p>;</span>
            <span class=p>};</span>

            <span class=n>v2f</span> <span class=n>vert</span> <span class=p>(</span><span class=n>appdata</span> <span class=n>v</span><span class=p>)</span>
            <span class=p>{</span>
                <span class=n>v2f</span> <span class=n>o</span><span class=p>;</span>
                <span class=n>o</span><span class=p>.</span><span class=n>pos</span> <span class=o>=</span> <span class=n>UnityObjectToClipPos</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>vertex</span><span class=p>);</span>
                <span class=n>o</span><span class=p>.</span><span class=n>uv</span> <span class=o>=</span> <span class=n>TRANSFORM_TEX</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>texcoord</span><span class=p>,</span> <span class=n>_MainTex</span><span class=p>);</span>

                <span class=k>return</span> <span class=n>o</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=n>fixed4</span> <span class=n>frag</span> <span class=p>(</span><span class=n>v2f</span> <span class=n>i</span><span class=p>)</span> <span class=o>:</span> <span class=n>SV_Target</span>
            <span class=p>{</span>
                <span class=k>float</span> <span class=n>time</span> <span class=o>=</span> <span class=n>floor</span><span class=p>(</span><span class=n>_Time</span><span class=p>.</span><span class=n>y</span> <span class=o>*</span> <span class=n>_Speed</span><span class=p>);</span>
                <span class=k>float</span> <span class=n>row</span> <span class=o>=</span> <span class=n>floor</span><span class=p>(</span><span class=n>time</span> <span class=o>/</span> <span class=n>_HorizontalCount</span><span class=p>);</span>
                <span class=k>float</span> <span class=n>column</span> <span class=o>=</span> <span class=n>time</span> <span class=o>-</span> <span class=n>row</span> <span class=o>*</span> <span class=n>_HorizontalCount</span><span class=p>;</span>

                <span class=n>half2</span> <span class=n>uv</span> <span class=o>=</span> <span class=n>i</span><span class=p>.</span><span class=n>uv</span> <span class=o>+</span> <span class=n>half2</span><span class=p>(</span><span class=n>column</span><span class=p>,</span> <span class=o>-</span><span class=n>row</span><span class=p>);</span>
                <span class=n>uv</span><span class=p>.</span><span class=n>x</span> <span class=o>/=</span> <span class=n>_HorizontalCount</span><span class=p>;</span>
                <span class=n>uv</span><span class=p>.</span><span class=n>y</span> <span class=o>/=</span> <span class=n>_VerticalCount</span><span class=p>;</span>

                <span class=n>fixed4</span> <span class=n>c</span> <span class=o>=</span> <span class=n>tex2D</span><span class=p>(</span><span class=n>_MainTex</span><span class=p>,</span> <span class=n>uv</span><span class=p>);</span>
                <span class=n>c</span><span class=p>.</span><span class=n>rgb</span> <span class=o>*=</span> <span class=n>_Color</span><span class=p>;</span>

                <span class=k>return</span> <span class=n>c</span><span class=p>;</span>
            <span class=p>}</span>
            <span class=n>ENDCG</span>
        <span class=p>}</span>
    <span class=p>}</span>
    <span class=n>Fallback</span> <span class=err>&#34;</span><span class=n>Transparent</span><span class=o>/</span><span class=n>VertexLit</span><span class=err>&#34;</span>
<span class=p>}</span>
</code></pre></div><h3 id=æ»šåŠ¨èƒŒæ™¯>æ»šåŠ¨èƒŒæ™¯</h3><p>å¾ˆå¤š 2D æ¸¸æˆéƒ½ä½¿ç”¨äº†ä¸æ–­æ»šåŠ¨çš„èƒŒæ™¯æ¥æ¨¡æ‹Ÿæ¸¸æˆè§’è‰²åœ¨åœºæ™¯ä¸­çš„ç©¿æ¢­ï¼Œè¿™äº›èƒŒæ™¯å¾€å¾€åŒ…å«äº†å¤šä¸ªå±‚æ¥æ¨¡æ‹Ÿä¸€ç§è§†è§‰æ•ˆæœã€‚è€Œè¿™äº›èƒŒæ™¯çš„å®ç°å¾€å¾€å°±æ˜¯åˆ©ç”¨äº†çº¹ç†åŠ¨ç”»ã€‚æˆ‘ä»¬å°†å®ç°ä¸€ä¸ªåŒ…å«äº†ä¸¤å±‚çš„æ— é™æ»šåŠ¨çš„2Dæ¸¸æˆèƒŒæ™¯ã€‚</p><div class=highlight><pre class=chroma><code class=language-glsl data-lang=glsl><span class=n>Shader</span> <span class=err>&#34;</span><span class=n>Unlit</span><span class=o>/</span><span class=n>ScrollBackGround</span><span class=err>&#34;</span>
<span class=p>{</span>
    <span class=n>Properties</span>
    <span class=p>{</span>
        <span class=n>_MainTex</span> <span class=p>(</span><span class=err>&#34;</span><span class=n>MainTex</span><span class=err>&#34;</span><span class=p>,</span> <span class=mi>2</span><span class=n>D</span><span class=p>)</span> <span class=o>=</span> <span class=err>&#34;</span><span class=n>white</span><span class=err>&#34;</span> <span class=p>{}</span>
        <span class=n>_SecTex</span> <span class=p>(</span><span class=err>&#34;</span><span class=n>DetailTex</span><span class=err>&#34;</span><span class=p>,</span> <span class=mi>2</span><span class=n>D</span><span class=p>)</span> <span class=o>=</span> <span class=err>&#34;</span><span class=n>white</span><span class=err>&#34;</span> <span class=p>{}</span>
        <span class=n>_SpeedMain</span><span class=p>(</span><span class=err>&#34;</span><span class=n>Main</span> <span class=n>Speed</span><span class=err>&#34;</span><span class=p>,</span> <span class=n>Float</span><span class=p>)</span> <span class=o>=</span> <span class=mi>1</span>
        <span class=n>_SpeedSec</span><span class=p>(</span><span class=err>&#34;</span><span class=n>Second</span> <span class=n>Speed</span><span class=err>&#34;</span><span class=p>,</span> <span class=n>Float</span><span class=p>)</span> <span class=o>=</span> <span class=mi>1</span>
        <span class=n>_Multiplier</span><span class=p>(</span><span class=err>&#34;</span><span class=n>Layer</span> <span class=n>Multiplier</span><span class=err>&#34;</span><span class=p>,</span> <span class=n>Float</span><span class=p>)</span> <span class=o>=</span> <span class=mi>1</span>
        <span class=n>_Alpha</span><span class=p>(</span><span class=err>&#34;</span><span class=n>Alpha</span><span class=err>&#34;</span><span class=p>,</span> <span class=n>Range</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span> <span class=mi>1</span><span class=p>))</span> <span class=o>=</span> <span class=mf>0.5</span>
    <span class=p>}</span>
    <span class=n>SubShader</span>
    <span class=p>{</span>
        <span class=n>Tags</span> <span class=p>{</span> <span class=err>&#34;</span><span class=n>RenderType</span><span class=err>&#34;</span><span class=o>=</span><span class=err>&#34;</span><span class=n>Transparent</span><span class=err>&#34;</span> <span class=err>&#34;</span><span class=n>Queue</span><span class=err>&#34;</span><span class=o>=</span><span class=err>&#34;</span><span class=n>Transparent</span><span class=err>&#34;</span> <span class=err>&#34;</span><span class=n>IgnoreProjector</span><span class=err>&#34;</span><span class=o>=</span><span class=err>&#34;</span><span class=n>True</span><span class=err>&#34;</span> <span class=p>}</span>
        
        <span class=n>ZWrite</span> <span class=n>Off</span>
        <span class=n>Blend</span> <span class=n>SrcAlpha</span> <span class=n>OneMinusSrcAlpha</span>

        <span class=n>Pass</span>
        <span class=p>{</span>
            <span class=n>CGPROGRAM</span>
            <span class=err>#</span><span class=n>pragma</span> <span class=n>vertex</span> <span class=n>vert</span>
            <span class=err>#</span><span class=n>pragma</span> <span class=n>fragment</span> <span class=n>frag</span>

            <span class=err>#</span><span class=n>include</span> <span class=err>&#34;</span><span class=n>UnityCG</span><span class=p>.</span><span class=n>cginc</span><span class=err>&#34;</span>

            <span class=k>sampler2D</span> <span class=n>_MainTex</span><span class=p>;</span>
            <span class=n>float4</span> <span class=n>_MainTex_ST</span><span class=p>;</span>
            <span class=k>sampler2D</span> <span class=n>_SecTex</span><span class=p>;</span>
            <span class=n>float4</span> <span class=n>_SecTex_ST</span><span class=p>;</span>
            <span class=k>float</span> <span class=n>_SpeedMain</span><span class=p>;</span>
            <span class=k>float</span> <span class=n>_SpeedSec</span><span class=p>;</span>
            <span class=k>float</span> <span class=n>_Multiplier</span><span class=p>;</span>
            <span class=k>float</span> <span class=n>_Alpha</span><span class=p>;</span>

            <span class=k>struct</span> <span class=n>appdata</span>
            <span class=p>{</span>
                <span class=n>float4</span> <span class=n>vertex</span> <span class=o>:</span> <span class=n>POSITION</span><span class=p>;</span>
                <span class=n>float4</span> <span class=n>texcoord</span> <span class=o>:</span> <span class=n>TEXCOORD0</span><span class=p>;</span>
            <span class=p>};</span>

            <span class=k>struct</span> <span class=n>v2f</span>
            <span class=p>{</span>
                <span class=n>float4</span> <span class=n>pos</span> <span class=o>:</span> <span class=n>SV_POSITION</span><span class=p>;</span>
                <span class=n>float4</span> <span class=n>uv</span> <span class=o>:</span> <span class=n>TEXCOORD0</span><span class=p>;</span>
            <span class=p>};</span>

            <span class=n>v2f</span> <span class=n>vert</span> <span class=p>(</span><span class=n>appdata</span> <span class=n>v</span><span class=p>)</span>
            <span class=p>{</span>
                <span class=n>v2f</span> <span class=n>o</span><span class=p>;</span>
                <span class=n>o</span><span class=p>.</span><span class=n>pos</span> <span class=o>=</span> <span class=n>UnityObjectToClipPos</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>vertex</span><span class=p>);</span>

                <span class=n>o</span><span class=p>.</span><span class=n>uv</span><span class=p>.</span><span class=n>xy</span> <span class=o>=</span> <span class=n>v</span><span class=p>.</span><span class=n>texcoord</span><span class=p>.</span><span class=n>xy</span> <span class=o>*</span> <span class=n>_MainTex_ST</span><span class=p>.</span><span class=n>xy</span> <span class=o>+</span> <span class=n>_MainTex_ST</span><span class=p>.</span><span class=n>zw</span> <span class=o>+</span> <span class=n>frac</span><span class=p>(</span><span class=n>float2</span><span class=p>(</span><span class=n>_SpeedMain</span><span class=p>,</span> <span class=mf>0.0</span><span class=p>)</span> <span class=o>*</span> <span class=n>_Time</span><span class=p>.</span><span class=n>y</span><span class=p>);</span>
                <span class=n>o</span><span class=p>.</span><span class=n>uv</span><span class=p>.</span><span class=n>zw</span> <span class=o>=</span> <span class=n>v</span><span class=p>.</span><span class=n>texcoord</span><span class=p>.</span><span class=n>xy</span> <span class=o>*</span> <span class=n>_SecTex_ST</span><span class=p>.</span><span class=n>xy</span> <span class=o>+</span> <span class=n>_SecTex_ST</span><span class=p>.</span><span class=n>zw</span> <span class=o>+</span> <span class=n>frac</span><span class=p>(</span><span class=n>float2</span><span class=p>(</span><span class=n>_SpeedSec</span><span class=p>,</span> <span class=mf>0.0</span><span class=p>)</span> <span class=o>*</span> <span class=n>_Time</span><span class=p>.</span><span class=n>y</span><span class=p>);</span>

                <span class=k>return</span> <span class=n>o</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=n>fixed4</span> <span class=n>frag</span> <span class=p>(</span><span class=n>v2f</span> <span class=n>i</span><span class=p>)</span> <span class=o>:</span> <span class=n>SV_Target</span>
            <span class=p>{</span>
                <span class=n>half4</span> <span class=n>firstLayer</span> <span class=o>=</span> <span class=n>tex2D</span><span class=p>(</span><span class=n>_MainTex</span><span class=p>,</span> <span class=n>i</span><span class=p>.</span><span class=n>uv</span><span class=p>.</span><span class=n>xy</span><span class=p>);</span>
                <span class=n>half4</span> <span class=n>secondLayer</span> <span class=o>=</span> <span class=n>tex2D</span><span class=p>(</span><span class=n>_SecTex</span><span class=p>,</span> <span class=n>i</span><span class=p>.</span><span class=n>uv</span><span class=p>.</span><span class=n>zw</span><span class=p>);</span>

                <span class=n>half4</span> <span class=n>c</span> <span class=o>=</span> <span class=n>lerp</span><span class=p>(</span><span class=n>firstLayer</span><span class=p>,</span> <span class=n>secondLayer</span><span class=p>,</span> <span class=n>secondLayer</span><span class=p>.</span><span class=n>a</span><span class=p>);</span>
                <span class=n>c</span><span class=p>.</span><span class=n>rgb</span> <span class=o>*=</span> <span class=n>_Multiplier</span><span class=p>;</span>

                <span class=k>return</span> <span class=n>c</span><span class=p>;</span>
            <span class=p>}</span>
            <span class=n>ENDCG</span>
        <span class=p>}</span>
    <span class=p>}</span>
    <span class=n>Fallback</span> <span class=err>&#34;</span><span class=n>VertexLit</span><span class=err>&#34;</span>
<span class=p>}</span>
</code></pre></div><h2 id=é¡¶ç‚¹åŠ¨ç”»>é¡¶ç‚¹åŠ¨ç”»</h2><h3 id=æµåŠ¨çš„æ²³æµ>æµåŠ¨çš„æ²³æµ</h3><p>è¯¥æ•ˆæœçš„åŸç†æ˜¯ä½¿ç”¨æ­£å¼¦å‡½æ•°æ¥æ¨¡æ‹Ÿæ°´æµçš„æ³¢åŠ¨æ•ˆæœï¼Œåœ¨é¡¶ç‚¹ç€è‰²å™¨ä¸­ä½¿ç”¨æ­£å¼¦å€¼å¯¹é¡¶ç‚¹åæ ‡è¿›è¡Œåç§»å¾—åˆ°å¯¹çº¹ç†æ‰­æ›²æ•ˆæœã€‚</p><blockquote><p>â€¼ ç”±äºUnityçš„ <strong>æ‰¹å¤„ç†</strong> ä¼šåˆå¹¶æ‰€æœ‰ç›¸å…³çš„æ¨¡å‹ï¼Œæ‰€ä»¥æ¨¡å‹å„è‡ªçš„ <strong>æ¨¡å‹ç©ºé—´</strong> å°±ä¼šä¸¢å¤±ï¼Œä½†æˆ‘ä»¬ä½¿ç”¨çš„é¡¶ç‚¹åç§»éœ€è¦åœ¨ç‰©ä½“çš„æ¨¡å‹ç©ºé—´ä¸‹è¿›è¡Œåç§»ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å£°æ˜ä¸€ä¸ªæ ‡ç­¾â€”â€” <strong>DisableBatching</strong> ï¼Œå‘Šè¯‰ Unity éœ€è¦å–æ¶ˆå¯¹è¯¥ Shader çš„æ‰¹å¤„ç†æ“ä½œã€‚</p></blockquote><div class=highlight><pre class=chroma><code class=language-glsl data-lang=glsl><span class=n>Shader</span> <span class=err>&#34;</span><span class=n>Unlit</span><span class=o>/</span><span class=n>RiverAni</span><span class=err>&#34;</span>
<span class=p>{</span>
    <span class=n>Properties</span>
    <span class=p>{</span>
        <span class=n>_Color</span><span class=p>(</span><span class=err>&#34;</span><span class=n>Color</span><span class=err>&#34;</span><span class=p>,</span> <span class=n>Color</span><span class=p>)</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>)</span>
        <span class=n>_MainTex</span> <span class=p>(</span><span class=err>&#34;</span><span class=n>MainTex</span><span class=err>&#34;</span><span class=p>,</span> <span class=mi>2</span><span class=n>D</span><span class=p>)</span> <span class=o>=</span> <span class=err>&#34;</span><span class=n>white</span><span class=err>&#34;</span> <span class=p>{}</span>
        <span class=n>_Magnitude</span><span class=p>(</span><span class=err>&#34;</span><span class=n>Magnitude</span><span class=err>&#34;</span><span class=p>,</span> <span class=n>Float</span><span class=p>)</span> <span class=o>=</span> <span class=mi>1</span>
        <span class=n>_Frequency</span><span class=p>(</span><span class=err>&#34;</span><span class=n>Frequency</span><span class=err>&#34;</span><span class=p>,</span> <span class=n>Float</span><span class=p>)</span> <span class=o>=</span> <span class=mi>1</span>
        <span class=n>_InWaveLength</span><span class=p>(</span><span class=err>&#34;</span><span class=n>Wave</span> <span class=n>Length</span><span class=err>&#34;</span><span class=p>,</span> <span class=n>Float</span><span class=p>)</span> <span class=o>=</span> <span class=mi>10</span>
        <span class=n>_Speed</span><span class=p>(</span><span class=err>&#34;</span><span class=n>Speed</span><span class=err>&#34;</span><span class=p>,</span> <span class=n>Float</span><span class=p>)</span> <span class=o>=</span> <span class=mf>0.5</span>

    <span class=p>}</span>
    <span class=n>SubShader</span>
    <span class=p>{</span>
        <span class=n>Tags</span> <span class=p>{</span> <span class=err>&#34;</span><span class=n>RenderType</span><span class=err>&#34;</span><span class=o>=</span><span class=err>&#34;</span><span class=n>Transparent</span><span class=err>&#34;</span> <span class=err>&#34;</span><span class=n>Queue</span><span class=err>&#34;</span><span class=o>=</span><span class=err>&#34;</span><span class=n>Transparent</span><span class=err>&#34;</span> <span class=err>&#34;</span><span class=n>IgnoreProjector</span><span class=err>&#34;</span><span class=o>=</span><span class=err>&#34;</span><span class=n>True</span><span class=err>&#34;</span> <span class=err>&#34;</span><span class=n>DisableBatching</span><span class=err>&#34;</span><span class=o>=</span><span class=err>&#34;</span><span class=n>True</span><span class=err>&#34;</span><span class=p>}</span>
        <span class=n>LOD</span> <span class=mi>100</span>

        <span class=n>Pass</span>
        <span class=p>{</span>
            <span class=n>Tags</span> <span class=p>{</span><span class=err>&#34;</span><span class=n>LightMode</span><span class=err>&#34;</span><span class=o>=</span><span class=err>&#34;</span><span class=n>ForwardBase</span><span class=err>&#34;</span><span class=p>}</span>

            <span class=n>Cull</span> <span class=n>Off</span>
            <span class=n>ZWrite</span> <span class=n>Off</span>
            <span class=n>Blend</span> <span class=n>SrcAlpha</span> <span class=n>OneMinusSrcAlpha</span>

            <span class=n>CGPROGRAM</span>
            <span class=err>#</span><span class=n>pragma</span> <span class=n>vertex</span> <span class=n>vert</span>
            <span class=err>#</span><span class=n>pragma</span> <span class=n>fragment</span> <span class=n>frag</span>

            <span class=err>#</span><span class=n>include</span> <span class=err>&#34;</span><span class=n>UnityCG</span><span class=p>.</span><span class=n>cginc</span><span class=err>&#34;</span>

            <span class=k>sampler2D</span> <span class=n>_MainTex</span><span class=p>;</span>
            <span class=n>float4</span> <span class=n>_MainTex_ST</span><span class=p>;</span>
            <span class=n>float4</span> <span class=n>_Color</span><span class=p>;</span>
            <span class=k>float</span> <span class=n>_Magnitude</span><span class=p>;</span>
            <span class=k>float</span> <span class=n>_Frequency</span><span class=p>;</span>
            <span class=k>float</span> <span class=n>_InWaveLength</span><span class=p>;</span>
            <span class=k>float</span> <span class=n>_Speed</span><span class=p>;</span>

            <span class=k>struct</span> <span class=n>appdata</span>
            <span class=p>{</span>
                <span class=n>float4</span> <span class=n>vertex</span> <span class=o>:</span> <span class=n>POSITION</span><span class=p>;</span>
                <span class=n>float2</span> <span class=n>texcoord</span> <span class=o>:</span> <span class=n>TEXCOORD0</span><span class=p>;</span>
            <span class=p>};</span>

            <span class=k>struct</span> <span class=n>v2f</span>
            <span class=p>{</span>
                <span class=n>float4</span> <span class=n>pos</span> <span class=o>:</span> <span class=n>SV_POSITION</span><span class=p>;</span>
                <span class=n>float2</span> <span class=n>uv</span> <span class=o>:</span> <span class=n>TEXCOORD0</span><span class=p>;</span>
            <span class=p>};</span>

            <span class=n>v2f</span> <span class=n>vert</span> <span class=p>(</span><span class=n>appdata</span> <span class=n>v</span><span class=p>)</span>
            <span class=p>{</span>
                <span class=n>v2f</span> <span class=n>o</span><span class=p>;</span>
                <span class=n>float4</span> <span class=n>offset</span><span class=p>;</span>
                <span class=n>offset</span><span class=p>.</span><span class=n>yzw</span> <span class=o>=</span> <span class=n>float3</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span> <span class=mf>0.0</span><span class=p>,</span> <span class=mf>0.0</span><span class=p>);</span>
                <span class=n>offset</span><span class=p>.</span><span class=n>x</span> <span class=o>=</span> <span class=n>sin</span><span class=p>(</span><span class=n>_Frequency</span> <span class=o>*</span> <span class=n>_Time</span><span class=p>.</span><span class=n>y</span> <span class=c1>// æ³¢åŠ¨é¢‘ç‡</span>
                                <span class=o>+</span> <span class=n>v</span><span class=p>.</span><span class=n>vertex</span><span class=p>.</span><span class=n>x</span> <span class=o>*</span> <span class=n>_InWaveLength</span> <span class=c1>// _InWaveLength æ§åˆ¶æ³¢é•¿å¤§å°</span>
                                <span class=o>+</span> <span class=n>v</span><span class=p>.</span><span class=n>vertex</span><span class=p>.</span><span class=n>y</span> <span class=o>*</span> <span class=n>_InWaveLength</span>
                                <span class=o>+</span> <span class=n>v</span><span class=p>.</span><span class=n>vertex</span><span class=p>.</span><span class=n>z</span> <span class=o>*</span> <span class=n>_InWaveLength</span><span class=p>)</span> <span class=o>*</span> <span class=n>_Magnitude</span><span class=p>;</span> <span class=c1>// _Magnitud æ§åˆ¶æ³¢åŠ¨å¤§å°</span>

                <span class=n>o</span><span class=p>.</span><span class=n>pos</span> <span class=o>=</span> <span class=n>UnityObjectToClipPos</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>vertex</span> <span class=o>+</span> <span class=n>offset</span><span class=p>);</span>
                <span class=n>o</span><span class=p>.</span><span class=n>uv</span> <span class=o>=</span> <span class=n>TRANSFORM_TEX</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>texcoord</span><span class=p>,</span> <span class=n>_MainTex</span><span class=p>);</span>
                <span class=n>o</span><span class=p>.</span><span class=n>uv</span> <span class=o>+=</span> <span class=n>float2</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span> <span class=n>_Time</span><span class=p>.</span><span class=n>y</span> <span class=o>*</span> <span class=n>_Speed</span><span class=p>);</span>

                <span class=k>return</span> <span class=n>o</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=n>fixed4</span> <span class=n>frag</span> <span class=p>(</span><span class=n>v2f</span> <span class=n>i</span><span class=p>)</span> <span class=o>:</span> <span class=n>SV_Target</span>
            <span class=p>{</span>
                <span class=n>fixed4</span> <span class=n>col</span> <span class=o>=</span> <span class=n>tex2D</span><span class=p>(</span><span class=n>_MainTex</span><span class=p>,</span> <span class=n>i</span><span class=p>.</span><span class=n>uv</span><span class=p>);</span>
                <span class=n>col</span><span class=p>.</span><span class=n>rgb</span> <span class=o>*=</span> <span class=n>_Color</span><span class=p>.</span><span class=n>rgb</span><span class=p>;</span>
                <span class=k>return</span> <span class=n>col</span><span class=p>;</span>
            <span class=p>}</span>
            <span class=n>ENDCG</span>
        <span class=p>}</span>
    <span class=p>}</span>
    <span class=n>Fallback</span> <span class=err>&#34;</span><span class=n>Transparent</span><span class=o>/</span><span class=n>vertexLit</span><span class=err>&#34;</span>
<span class=p>}</span>
</code></pre></div><h3 id=å¹¿å‘Šç‰ŒæŠ€æœ¯>å¹¿å‘Šç‰ŒæŠ€æœ¯</h3><p>å¦ä¸€ç§å¸¸è§çš„é¡¶ç‚¹åŠ¨ç”»å°±æ˜¯ <strong>å¹¿å‘Šç‰ŒæŠ€æœ¯</strong> ã€‚å¹¿å‘Šç‰ŒæŠ€æœ¯ä¼šæ ¹æ®è§†è§’æ–¹å‘æ¥æ—‹è½¬ä¸€ä¸ªè¢«çº¹ç†ç€è‰²çš„å¤šè¾¹å½¢ï¼ˆé€šå¸¸å°±æ˜¯ç®€å•çš„å››è¾¹å½¢ï¼Œè¿™ä¸ªå¤šè¾¹å½¢å°±æ˜¯å¹¿å‘Šç‰Œï¼‰ï¼Œæ˜¯çš„å¤šè¾¹å½¢çœ‹èµ·æ¥å¥½åƒæ€»æ˜¯é¢å¯¹ç€æ‘„åƒæœºã€‚å¹¿å‘Šç‰ŒæŠ€æœ¯è¢«ç”¨äºå¾ˆå¤šåº”ç”¨ï¼Œæ¯”å¦‚æ¸²æŸ“çƒŸé›¾ã€è¿æ¯’ã€é—ªå…‰æ•ˆæœç­‰ã€‚</p><h4 id=åŸç†>åŸç†</h4><p>å¹¿å‘Šç‰ŒæŠ€æœ¯çš„æœ¬è´¨å°±æ˜¯æ„å»ºæ—‹è½¬çŸ©é˜µï¼Œè€Œæˆ‘ä»¬çŸ¥é“ä¸€ä¸ªå˜æ¢çŸ©é˜µéœ€è¦ 3 ä¸ª <strong>åŸºå‘é‡</strong> ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æŒ‡å®šä¸€ä¸ª <strong>é”šç‚¹</strong> ã€‚è¿™ä¸ªé”šç‚¹åœ¨æ—‹è½¬çš„è¿‡ç¨‹ä¸­æ˜¯å›ºå®šä¸å˜çš„ï¼Œä»¥æ­¤æ¥ç¡®å®šå¤šè¾¹å½¢åœ¨ç©ºé—´ä¸­çš„ä½ç½®ã€‚å¹¿å‘Šç‰ŒæŠ€æœ¯ä½¿ç”¨çš„åŸºå‘é‡é€šå¸¸å°±æ˜¯ï¼š</p><ol><li>è¡¨é¢æ³•çº¿ï¼ˆnormalï¼‰</li><li>æŒ‡å‘ä¸Šçš„æ–¹å‘ï¼ˆupï¼‰</li><li>æŒ‡å‘å³çš„æ–¹å‘ï¼ˆrightï¼‰</li></ol><p>å¹¿å‘Šç‰ŒæŠ€æœ¯çš„éš¾ç‚¹åœ¨äºï¼Œå¦‚ä½•æ ¹æ®éœ€è¦æ¥æ„å»º 3 ä¸ªç›¸äº’æ­£äº¤çš„åŸºå‘é‡ã€‚è®¡ç®—è¿‡ç¨‹é€šå¸¸æ˜¯ï¼Œæˆ‘ä»¬é¦–å…ˆä¼šé€šè¿‡åˆå§‹è®¡ç®—å¾—åˆ°ç›®æ ‡çš„è¡¨é¢æ³•çº¿ï¼ˆä¾‹å¦‚å°±æ˜¯è§†è§’æ–¹å‘ï¼‰å’ŒæŒ‡å‘ä¸Šçš„æ–¹å‘ï¼Œè€Œä¸¤è€…å¾€å¾€æ˜¯ä¸å‚ç›´çš„ã€‚ä½†æ˜¯ï¼Œä¸¤è€…å…¶ä¸­ä¹‹ä¸€æ˜¯å›ºå®šçš„ã€‚ä¾‹å¦‚ï¼š</p><ul><li>å½“æ¨¡æ‹Ÿè‰ä¸›æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›å¹¿å‘Šç‰Œçš„æŒ‡å‘ä¸Šçš„æ–¹å‘æ°¸è¿œæ˜¯ï¼ˆ0ï¼Œ1ï¼Œ0ï¼‰ï¼Œè€Œæ³•çº¿æ–¹å‘åº”è¯¥éšè§†è§’å˜åŒ–ã€‚</li><li>å½“æ¨¡æ‹Ÿç²’å­æ•ˆæœæ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›å¹¿å‘Šç‰Œçš„æ³•çº¿æ–¹å‘æ˜¯å›ºå®šçš„ï¼Œå³æ€»æ˜¯æŒ‡å‘è§†è§’æ–¹å‘ï¼ŒæŒ‡å‘ä¸Šçš„æ–¹å‘åˆ™å¯ä»¥å‘ç”Ÿå˜åŒ–ã€‚</li></ul><h4 id=è®¡ç®—-ä»¥æ³•çº¿æ–¹å‘å›ºå®šä¸ºè§†è§’æ–¹å‘ä¸ºä¾‹>è®¡ç®— (ä»¥æ³•çº¿æ–¹å‘å›ºå®šä¸ºè§†è§’æ–¹å‘ä¸ºä¾‹)</h4><p>å‡è®¾æ³•çº¿æ–¹å‘æ˜¯å›ºå®šçš„ï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬æ ¹æ®åˆå§‹çš„è¡¨é¢æ³•çº¿å’ŒæŒ‡å‘ä¸Šçš„æ–¹å‘æ¥è®¡ç®—å‡ºç›®æ ‡æ–¹å‘çš„æŒ‡å‘å³çš„æ–¹å‘ï¼ˆé€šè¿‡å‰ç§¯æ“ä½œï¼‰ï¼š</p><blockquote><p>right = up Ã— normal</p></blockquote><p>å¯¹å…¶å½’ä¸€åŒ–åï¼Œå†ç”±æ³•çº¿æ–¹å‘å’ŒæŒ‡å‘å³çš„æ–¹å‘è®¡ç®—å‡ºæ­£äº¤çš„æŒ‡å‘ä¸Šçš„æ–¹å‘å³å¯ï¼š</p><blockquote><p>up' = normal Ã— right</p></blockquote><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°ç”¨äºæ—‹è½¬çš„ 3 ä¸ªæ­£äº¤åŸºäº†ã€‚ä¸‹å›¾ç»™å‡ºäº†ä¸Šè¿°è®¡ç®—è¿‡ç¨‹çš„å›¾ç¤ºã€‚å¦‚æœæŒ‡å‘ä¸Šçš„æ–¹å‘æ˜¯å›ºå®šçš„ï¼Œè®¡ç®—è¿‡ç¨‹ä¹Ÿæ˜¯ç±»ä¼¼çš„ã€‚</p><p><figure style=flex-grow:250;flex-basis:602px><a href=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%94%BB%E9%9D%A2%E5%8A%A8%E8%B5%B7%E6%9D%A5/billboard.png data-size=1024x408><img src=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%94%BB%E9%9D%A2%E5%8A%A8%E8%B5%B7%E6%9D%A5/billboard.png srcset="/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%94%BB%E9%9D%A2%E5%8A%A8%E8%B5%B7%E6%9D%A5/billboard_hu8babf3f666abb1e889d80e074e4fbae4_82087_480x0_resize_box_2.png 480w, /p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%94%BB%E9%9D%A2%E5%8A%A8%E8%B5%B7%E6%9D%A5/billboard_hu8babf3f666abb1e889d80e074e4fbae4_82087_1024x0_resize_box_2.png 1024w" width=1024 height=408 loading=lazy></a></figure></p><h4 id=å®ç°>å®ç°</h4><ol><li>é¦–å…ˆæˆ‘ä»¬åœ¨ç€è‰²å™¨ä¸­å®šä¹‰ä¸€ä¸ª <strong>_VerticalBillboarding</strong> æ ‡ç­¾ç”¨äºè°ƒæ•´æ˜¯å›ºå®šæ³•çº¿è¿˜æ˜¯å›ºå®šæŒ‡å‘ä¸Šçš„æ–¹å‘</li><li>æ³•çº¿æ–¹å‘ï¼šå°†ç›¸æœºåæ ‡è½¬æ¢åˆ°æ¨¡å‹ç©ºé—´ä¸‹åå‡å»ç‰©ä½“ä¸­å¿ƒ</li><li>å‘å³æ–¹å‘ï¼šé€šè¿‡æ³•çº¿æ–¹å‘å’ŒæŒ‡å‘ä¸Šçš„æ–¹å‘ï¼ˆ0ï¼Œ1ï¼Œ0ï¼‰å‰ä¹˜å¾—åˆ°</li><li>å‘ä¸Šæ–¹å‘ï¼šé€šè¿‡å‰ä¹˜æ³•çº¿å’Œå‘å³æ–¹å‘åå½’ä¸€åŒ–å¾—åˆ°</li><li>é€šè¿‡ä¸Šé¢ä¸‰ä¸ªæ–¹å‘æ—‹è½¬æ­£æ–¹å½¢</li></ol><div class=highlight><pre class=chroma><code class=language-glsl data-lang=glsl><span class=n>Shader</span> <span class=err>&#34;</span><span class=n>Unlit</span><span class=o>/</span><span class=n>Billboard</span><span class=err>&#34;</span>
<span class=p>{</span>
    <span class=n>Properties</span>
    <span class=p>{</span>
        <span class=n>_Color</span><span class=p>(</span><span class=err>&#34;</span><span class=n>Color</span><span class=err>&#34;</span><span class=p>,</span> <span class=n>Color</span><span class=p>)</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>)</span>
        <span class=n>_MainTex</span> <span class=p>(</span><span class=err>&#34;</span><span class=n>MainTex</span><span class=err>&#34;</span><span class=p>,</span> <span class=mi>2</span><span class=n>D</span><span class=p>)</span> <span class=o>=</span> <span class=err>&#34;</span><span class=n>white</span><span class=err>&#34;</span> <span class=p>{}</span>
        <span class=n>_VeticalBillboarding</span><span class=p>(</span><span class=err>&#34;</span><span class=n>Vertical</span> <span class=n>Billboarding</span><span class=err>&#34;</span><span class=p>,</span> <span class=n>Range</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span> <span class=mi>1</span><span class=p>))</span> <span class=o>=</span> <span class=mi>1</span>

    <span class=p>}</span>
    <span class=n>SubShader</span>
    <span class=p>{</span>
        <span class=n>Tags</span> <span class=p>{</span> <span class=err>&#34;</span><span class=n>RenderType</span><span class=err>&#34;</span><span class=o>=</span><span class=err>&#34;</span><span class=n>Transparent</span><span class=err>&#34;</span> <span class=err>&#34;</span><span class=n>Queue</span><span class=err>&#34;</span><span class=o>=</span><span class=err>&#34;</span><span class=n>Transparent</span><span class=err>&#34;</span> <span class=err>&#34;</span><span class=n>IgnoreProjector</span><span class=err>&#34;</span><span class=o>=</span><span class=err>&#34;</span><span class=n>True</span><span class=err>&#34;</span> <span class=err>&#34;</span><span class=n>DisableBatching</span><span class=err>&#34;</span><span class=o>=</span><span class=err>&#34;</span><span class=n>True</span><span class=err>&#34;</span> <span class=p>}</span>

        <span class=n>Cull</span> <span class=n>Off</span>
        <span class=n>ZWrite</span> <span class=n>Off</span>
        <span class=n>Blend</span> <span class=n>SrcAlpha</span> <span class=n>OneMinusSrcAlpha</span>

        <span class=n>Pass</span>
        <span class=p>{</span>
            <span class=n>Tags</span> <span class=p>{</span><span class=err>&#34;</span><span class=n>LightMode</span><span class=err>&#34;</span><span class=o>=</span><span class=err>&#34;</span><span class=n>ForwardBase</span><span class=err>&#34;</span><span class=p>}</span>

            <span class=n>CGPROGRAM</span>

            <span class=err>#</span><span class=n>pragma</span> <span class=n>multi_compile_fwdbase</span>
            <span class=err>#</span><span class=n>pragma</span> <span class=n>vertex</span> <span class=n>vert</span>
            <span class=err>#</span><span class=n>pragma</span> <span class=n>fragment</span> <span class=n>frag</span>

            <span class=err>#</span><span class=n>include</span> <span class=err>&#34;</span><span class=n>UnityCG</span><span class=p>.</span><span class=n>cginc</span><span class=err>&#34;</span>

            <span class=k>sampler2D</span> <span class=n>_MainTex</span><span class=p>;</span>
            <span class=n>float4</span> <span class=n>_MainTex_ST</span><span class=p>;</span>
            <span class=n>float4</span> <span class=n>_Color</span><span class=p>;</span>
            <span class=k>float</span> <span class=n>_VeticalBillboarding</span><span class=p>;</span>

            <span class=k>struct</span> <span class=n>appdata</span>
            <span class=p>{</span>
                <span class=n>float4</span> <span class=n>vertex</span> <span class=o>:</span> <span class=n>POSITION</span><span class=p>;</span>
                <span class=n>float2</span> <span class=n>texcoord</span> <span class=o>:</span> <span class=n>TEXCOORD0</span><span class=p>;</span>
            <span class=p>};</span>

            <span class=k>struct</span> <span class=n>v2f</span>
            <span class=p>{</span>
                <span class=n>float4</span> <span class=n>pos</span> <span class=o>:</span> <span class=n>SV_POSITION</span><span class=p>;</span>
                <span class=n>float2</span> <span class=n>uv</span> <span class=o>:</span> <span class=n>TEXCOORD0</span><span class=p>;</span>
            <span class=p>};</span>

            <span class=n>v2f</span> <span class=n>vert</span> <span class=p>(</span><span class=n>appdata</span> <span class=n>v</span><span class=p>)</span>
            <span class=p>{</span>
                <span class=n>v2f</span> <span class=n>o</span><span class=p>;</span>

                <span class=n>float3</span> <span class=n>center</span> <span class=o>=</span> <span class=n>float3</span><span class=p>(</span><span class=mo>0</span><span class=p>,</span><span class=mo>0</span><span class=p>,</span><span class=mo>0</span><span class=p>);</span> <span class=c1>// å›ºå®šé”šç‚¹</span>
                <span class=n>float3</span> <span class=n>viewDir</span> <span class=o>=</span> <span class=n>mul</span><span class=p>(</span><span class=n>unity_WorldToObject</span><span class=p>,</span> <span class=n>float4</span><span class=p>(</span><span class=n>_WorldSpaceCameraPos</span><span class=p>,</span> <span class=mi>1</span><span class=p>));</span>
                <span class=n>float3</span> <span class=n>normalDir</span> <span class=o>=</span> <span class=n>viewDir</span> <span class=o>-</span> <span class=n>center</span><span class=p>;</span> <span class=c1>// ä»¥è§†è§’æ–¹å‘ä½œä¸ºæ³•çº¿æ–¹å‘</span>

                <span class=n>normalDir</span><span class=p>.</span><span class=n>y</span> <span class=o>=</span> <span class=n>normalDir</span><span class=p>.</span><span class=n>y</span> <span class=o>*</span> <span class=n>_VeticalBillboarding</span><span class=p>;</span>
                <span class=n>normalDir</span> <span class=o>=</span> <span class=n>normalize</span><span class=p>(</span><span class=n>normalDir</span><span class=p>);</span>

                <span class=n>float3</span> <span class=n>upDir</span> <span class=o>=</span> <span class=n>abs</span><span class=p>(</span><span class=n>normalDir</span><span class=p>.</span><span class=n>y</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mf>0.999</span> <span class=o>?</span> <span class=n>float3</span><span class=p>(</span><span class=mo>0</span><span class=p>,</span><span class=mo>0</span><span class=p>,</span><span class=mi>1</span><span class=p>)</span> <span class=o>:</span> <span class=n>float3</span><span class=p>(</span><span class=mo>0</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mo>0</span><span class=p>);</span> <span class=c1>// æš‚å–ä¸€ä¸ª upDir æ–¹å‘</span>
                <span class=n>float3</span> <span class=n>rightDir</span> <span class=o>=</span> <span class=n>normalize</span><span class=p>(</span><span class=n>cross</span><span class=p>(</span><span class=n>normalDir</span><span class=p>,</span> <span class=n>upDir</span><span class=p>));</span> <span class=c1>// è®¡ç®—å‘å³çš„æ–¹å‘</span>
                <span class=n>upDir</span> <span class=o>=</span> <span class=n>normalize</span><span class=p>(</span><span class=n>cross</span><span class=p>(</span><span class=n>normalDir</span><span class=p>,</span> <span class=n>rightDir</span><span class=p>));</span>        <span class=c1>// è®¡ç®—å‘ä¸Šçš„æ–¹å‘</span>

                <span class=c1>// ä»¥é”šç‚¹ä½ç½®å’Œæ–°çš„åŸºå‘é‡é‡æ–°è®¡ç®—é¡¶ç‚¹ä½ç½®</span>
                <span class=n>float3</span> <span class=n>centerOff</span> <span class=o>=</span> <span class=n>v</span><span class=p>.</span><span class=n>vertex</span><span class=p>.</span><span class=n>xyz</span> <span class=o>-</span> <span class=n>center</span><span class=p>;</span>
                <span class=n>float3</span> <span class=n>localPos</span> <span class=o>=</span> <span class=n>center</span> <span class=o>+</span> <span class=n>rightDir</span> <span class=o>*</span> <span class=n>centerOff</span><span class=p>.</span><span class=n>x</span> <span class=o>+</span> <span class=n>upDir</span> <span class=o>*</span> <span class=n>centerOff</span><span class=p>.</span><span class=n>y</span> <span class=o>+</span> <span class=n>normalDir</span> <span class=o>*</span> <span class=n>centerOff</span><span class=p>.</span><span class=n>z</span><span class=p>;</span>

                <span class=n>o</span><span class=p>.</span><span class=n>pos</span> <span class=o>=</span> <span class=n>UnityObjectToClipPos</span><span class=p>(</span><span class=n>float4</span><span class=p>(</span><span class=n>localPos</span><span class=p>,</span> <span class=mf>1.0</span><span class=p>));</span>
                <span class=n>o</span><span class=p>.</span><span class=n>uv</span> <span class=o>=</span> <span class=n>v</span><span class=p>.</span><span class=n>texcoord</span><span class=p>.</span><span class=n>xy</span> <span class=o>*</span> <span class=n>_MainTex_ST</span><span class=p>.</span><span class=n>xy</span> <span class=o>+</span> <span class=n>_MainTex_ST</span><span class=p>.</span><span class=n>zw</span><span class=p>;</span>

                <span class=k>return</span> <span class=n>o</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=n>fixed4</span> <span class=n>frag</span> <span class=p>(</span><span class=n>v2f</span> <span class=n>i</span><span class=p>)</span> <span class=o>:</span> <span class=n>SV_Target</span>
            <span class=p>{</span>
                <span class=n>fixed4</span> <span class=n>col</span> <span class=o>=</span> <span class=n>tex2D</span><span class=p>(</span><span class=n>_MainTex</span><span class=p>,</span> <span class=n>i</span><span class=p>.</span><span class=n>uv</span><span class=p>);</span>
                <span class=n>col</span><span class=p>.</span><span class=n>rgb</span> <span class=o>*=</span> <span class=n>_Color</span><span class=p>.</span><span class=n>rgb</span><span class=p>;</span>

                <span class=k>return</span> <span class=n>col</span><span class=p>;</span>
            <span class=p>}</span>
            <span class=n>ENDCG</span>
        <span class=p>}</span>
    <span class=p>}</span>
    <span class=n>Fallback</span> <span class=err>&#34;</span><span class=n>Transparent</span><span class=o>/</span><span class=n>VertexLit</span><span class=err>&#34;</span>
<span class=p>}</span>
</code></pre></div><h2 id=é¡¶ç‚¹åŠ¨ç”»çš„é˜´å½±>é¡¶ç‚¹åŠ¨ç”»çš„é˜´å½±</h2><h3 id=é—®é¢˜>é—®é¢˜ï¼š</h3><p><figure style=flex-grow:215;flex-basis:516px><a href=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%94%BB%E9%9D%A2%E5%8A%A8%E8%B5%B7%E6%9D%A5/VertexAniProblem.png data-size=1024x476><img src=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%94%BB%E9%9D%A2%E5%8A%A8%E8%B5%B7%E6%9D%A5/VertexAniProblem.png srcset="/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%94%BB%E9%9D%A2%E5%8A%A8%E8%B5%B7%E6%9D%A5/VertexAniProblem_hu931032a658f33c677ce23380fe89e96b_115013_480x0_resize_box_2.png 480w, /p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%94%BB%E9%9D%A2%E5%8A%A8%E8%B5%B7%E6%9D%A5/VertexAniProblem_hu931032a658f33c677ce23380fe89e96b_115013_1024x0_resize_box_2.png 1024w" width=1024 height=476 loading=lazy></a></figure></p><h3 id=åŸå› >åŸå› ï¼š</h3><p>å› ä¸º Unity çš„é˜´å½±ç»˜åˆ¶éœ€è¦è°ƒç”¨ä¸€ä¸ª <strong>ShadowCaster Pass</strong> ï¼Œè€Œå¦‚æœç›´æ¥ä½¿ç”¨è¿™äº›å†…ç½®çš„ <strong>ShadowCasterPass</strong> ï¼Œè¿™ä¸ª Pass ä¸­å¹¶æ²¡æœ‰è¿›è¡Œç›¸å…³çš„é¡¶ç‚¹åŠ¨ç”»ã€‚</p><h3 id=è§£å†³æ–¹æ³•>è§£å†³æ–¹æ³•ï¼š</h3><p>åœ¨ Unity ä¸­è‡ªå®šä¹‰çš„ <strong>ShadowCaster Pass</strong> ï¼Œè¿™ä¸ª Pass ä¸­ï¼Œæˆ‘ä»¬å°†è¿›è¡Œç»Ÿä¸€çš„é¡¶ç‚¹å˜æ¢è¿‡ç¨‹ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨å‰é¢çš„å®ç°ä¸­ï¼Œå¦‚æœæ¶‰åŠåŠé€æ˜ç‰©ä½“æˆ‘ä»¬éƒ½æŠŠ <strong>Fallback</strong> è®¾ç½®æˆäº† <strong>Transparent/VertexLit</strong> ï¼Œè€Œ <strong>Transparent/VertexLit</strong> æ²¡æœ‰å®šä¹‰ <strong>ShadowCaster Pass</strong> ï¼Œå› æ­¤ä¹Ÿå°±ä¸ä¼šäº§ç”Ÿé˜´å½±ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨ <strong>ShadowCaster Pass</strong> é‡‡ç”¨çš„ <strong>æ¸²æŸ“é€šé“</strong> ä¸ <strong>ç¼–è¯‘æŒ‡ä»¤</strong> éƒ½ä¸ä¹‹å‰ <strong>æ ‡å‡†å…‰ç…§ç€è‰²å™¨</strong> ä¸­é‡‡ç”¨çš„æœ‰æ‰€ä¸åŒï¼Œæ‰€ä»¥å¯¹åº”çš„ <strong>é˜´å½±å†…ç½®å®</strong> ä¹Ÿä¸ä¸€æ ·ã€‚</p><div class=highlight><pre class=chroma><code class=language-glsl data-lang=glsl><span class=n>Shader</span> <span class=err>&#34;</span><span class=n>Unity</span> <span class=n>Shaders</span> <span class=n>Book</span><span class=o>/</span><span class=n>Chapter</span> <span class=mi>11</span><span class=o>/</span><span class=n>Vertex</span> <span class=n>Animation</span> <span class=n>With</span> <span class=n>Shadow</span><span class=err>&#34;</span>
<span class=p>{</span>
    <span class=n>Properties</span>
    <span class=p>{</span>
        <span class=n>_MainTex</span> <span class=p>(</span><span class=err>&#34;</span><span class=n>Main</span> <span class=n>Tex</span><span class=err>&#34;</span><span class=p>,</span> <span class=mi>2</span><span class=n>D</span><span class=p>)</span> <span class=o>=</span> <span class=err>&#34;</span><span class=n>white</span><span class=err>&#34;</span> <span class=p>{</span> <span class=p>}</span>
        <span class=n>_Color</span> <span class=p>(</span><span class=err>&#34;</span><span class=n>Color</span> <span class=n>Tint</span><span class=err>&#34;</span><span class=p>,</span> <span class=n>Color</span><span class=p>)</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
        <span class=n>_Magnitude</span> <span class=p>(</span><span class=err>&#34;</span><span class=n>Distortion</span> <span class=n>Magnitude</span><span class=err>&#34;</span><span class=p>,</span> <span class=n>Float</span><span class=p>)</span> <span class=o>=</span> <span class=mi>1</span>
        <span class=n>_Frequency</span> <span class=p>(</span><span class=err>&#34;</span><span class=n>Distortion</span> <span class=n>Frequency</span><span class=err>&#34;</span><span class=p>,</span> <span class=n>Float</span><span class=p>)</span> <span class=o>=</span> <span class=mi>1</span>
        <span class=n>_InvWaveLength</span> <span class=p>(</span><span class=err>&#34;</span><span class=n>Distortion</span> <span class=n>Inverse</span> <span class=n>Wave</span> <span class=n>Length</span><span class=err>&#34;</span><span class=p>,</span> <span class=n>Float</span><span class=p>)</span> <span class=o>=</span> <span class=mi>10</span>
        <span class=n>_Speed</span> <span class=p>(</span><span class=err>&#34;</span><span class=n>Speed</span><span class=err>&#34;</span><span class=p>,</span> <span class=n>Float</span><span class=p>)</span> <span class=o>=</span> <span class=mf>0.5</span>
    <span class=p>}</span>
    <span class=n>SubShader</span>
    <span class=p>{</span>
        <span class=c1>// 		ç¦ç”¨æ‰¹å¤„ç†	=	True</span>
        <span class=n>Tags</span> <span class=p>{</span> <span class=err>&#34;</span><span class=n>DisableBatching</span><span class=err>&#34;</span> <span class=o>=</span> <span class=err>&#34;</span><span class=n>True</span><span class=err>&#34;</span> <span class=p>}</span>
        
        <span class=c1>// è¯¥PassåŒæµåŠ¨æ•ˆæœShaderä¸­çš„Pass</span>
        <span class=n>Pass</span>
        <span class=p>{</span>
            <span class=n>Tags</span> <span class=p>{</span> <span class=err>&#34;</span><span class=n>LightMode</span><span class=err>&#34;</span> <span class=o>=</span> <span class=err>&#34;</span><span class=n>ForwardBase</span><span class=err>&#34;</span> <span class=p>}</span>
            
            <span class=n>Cull</span> <span class=n>Off</span>
            
            <span class=n>CGPROGRAM</span>
            
            <span class=err>#</span><span class=n>pragma</span> <span class=n>vertex</span> <span class=n>vert</span>
            <span class=err>#</span><span class=n>pragma</span> <span class=n>fragment</span> <span class=n>frag</span>
            
            <span class=err>#</span><span class=n>include</span> <span class=err>&#34;</span><span class=n>UnityCG</span><span class=p>.</span><span class=n>cginc</span><span class=err>&#34;</span>
            
            <span class=k>sampler2D</span> <span class=n>_MainTex</span><span class=p>;</span>
            <span class=n>float4</span> <span class=n>_MainTex_ST</span><span class=p>;</span>
            <span class=n>fixed4</span> <span class=n>_Color</span><span class=p>;</span>
            <span class=k>float</span> <span class=n>_Magnitude</span><span class=p>;</span>
            <span class=k>float</span> <span class=n>_Frequency</span><span class=p>;</span>
            <span class=k>float</span> <span class=n>_InvWaveLength</span><span class=p>;</span>
            <span class=k>float</span> <span class=n>_Speed</span><span class=p>;</span>
            
            <span class=k>struct</span> <span class=n>a2v</span>
            <span class=p>{</span>
                <span class=n>float4</span> <span class=n>vertex</span><span class=o>:</span> <span class=n>POSITION</span><span class=p>;</span>
                <span class=n>float4</span> <span class=n>texcoord</span><span class=o>:</span> <span class=n>TEXCOORD0</span><span class=p>;</span>
            <span class=p>};</span>
            
            <span class=k>struct</span> <span class=n>v2f</span>
            <span class=p>{</span>
                <span class=n>float4</span> <span class=n>pos</span><span class=o>:</span> <span class=n>SV_POSITION</span><span class=p>;</span>
                <span class=n>float2</span> <span class=n>uv</span><span class=o>:</span> <span class=n>TEXCOORD0</span><span class=p>;</span>
            <span class=p>};</span>
            
            <span class=n>v2f</span> <span class=n>vert</span><span class=p>(</span><span class=n>a2v</span> <span class=n>v</span><span class=p>)</span>
            <span class=p>{</span>
                <span class=n>v2f</span> <span class=n>o</span><span class=p>;</span>
                
                <span class=n>float4</span> <span class=n>offset</span><span class=p>;</span>
                <span class=n>offset</span><span class=p>.</span><span class=n>yzw</span> <span class=o>=</span> <span class=n>float3</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span> <span class=mf>0.0</span><span class=p>,</span> <span class=mf>0.0</span><span class=p>);</span>
                <span class=n>offset</span><span class=p>.</span><span class=n>x</span> <span class=o>=</span> <span class=n>sin</span><span class=p>(</span><span class=n>_Frequency</span> <span class=o>*</span> <span class=n>_Time</span><span class=p>.</span><span class=n>y</span> <span class=o>+</span> <span class=n>v</span><span class=p>.</span><span class=n>vertex</span><span class=p>.</span><span class=n>x</span> <span class=o>*</span> <span class=n>_InvWaveLength</span> <span class=o>+</span> <span class=n>v</span><span class=p>.</span><span class=n>vertex</span><span class=p>.</span><span class=n>y</span> <span class=o>*</span> <span class=n>_InvWaveLength</span> <span class=o>+</span> <span class=n>v</span><span class=p>.</span><span class=n>vertex</span><span class=p>.</span><span class=n>z</span> <span class=o>*</span> <span class=n>_InvWaveLength</span><span class=p>)</span> <span class=o>*</span> <span class=n>_Magnitude</span><span class=p>;</span>
                <span class=n>o</span><span class=p>.</span><span class=n>pos</span> <span class=o>=</span> <span class=n>UnityObjectToClipPos</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>vertex</span> <span class=o>+</span> <span class=n>offset</span><span class=p>);</span>
                
                <span class=n>o</span><span class=p>.</span><span class=n>uv</span> <span class=o>=</span> <span class=n>TRANSFORM_TEX</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>texcoord</span><span class=p>,</span> <span class=n>_MainTex</span><span class=p>);</span>
                <span class=n>o</span><span class=p>.</span><span class=n>uv</span> <span class=o>+=</span> <span class=n>float2</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span> <span class=n>_Time</span><span class=p>.</span><span class=n>y</span> <span class=o>*</span> <span class=n>_Speed</span><span class=p>);</span>
                
                <span class=k>return</span> <span class=n>o</span><span class=p>;</span>
            <span class=p>}</span>
            
            <span class=n>fixed4</span> <span class=n>frag</span><span class=p>(</span><span class=n>v2f</span> <span class=n>i</span><span class=p>)</span><span class=o>:</span> <span class=n>SV_Target</span>
            <span class=p>{</span>
                <span class=n>fixed4</span> <span class=n>c</span> <span class=o>=</span> <span class=n>tex2D</span><span class=p>(</span><span class=n>_MainTex</span><span class=p>,</span> <span class=n>i</span><span class=p>.</span><span class=n>uv</span><span class=p>);</span>
                <span class=n>c</span><span class=p>.</span><span class=n>rgb</span> <span class=o>*=</span> <span class=n>_Color</span><span class=p>.</span><span class=n>rgb</span><span class=p>;</span>
                
                <span class=k>return</span> <span class=n>c</span><span class=p>;</span>
            <span class=p>}</span>
            
            <span class=n>ENDCG</span>
            
        <span class=p>}</span>
        
        <span class=c1>// ä»¥é˜´å½±æŠ•å°„çš„æ–¹å¼æ¸²æŸ“ç‰©ä½“çš„Pass</span>
        <span class=n>Pass</span>
        <span class=p>{</span>
            <span class=c1>//		æ¸²æŸ“é€šé“ = é˜´å½±æŠ•å°„</span>
            <span class=n>Tags</span> <span class=p>{</span> <span class=err>&#34;</span><span class=n>LightMode</span><span class=err>&#34;</span> <span class=o>=</span> <span class=err>&#34;</span><span class=n>ShadowCaster</span><span class=err>&#34;</span> <span class=p>}</span>
            
            <span class=n>CGPROGRAM</span>
            
            <span class=err>#</span><span class=n>pragma</span> <span class=n>vertex</span> <span class=n>vert</span>
            <span class=err>#</span><span class=n>pragma</span> <span class=n>fragment</span> <span class=n>frag</span>
            
            <span class=c1>// ç¼–è¯‘æŒ‡ä»¤ä¼šä¿è¯Unityå¯ä»¥ä¸ºç›¸åº”ç±»å‹çš„å…‰ç…§Passç”Ÿæˆæ‰€éœ€çš„Shaderå˜ç§</span>
            <span class=c1>// æ³¨æ„è¯¥æŒ‡ä»¤ä¸ä¹‹å‰å…‰ç…§æ¸²æŸ“ä¸­Passä¸­çš„&#34;multi_compile_fwdbase&#34;æœ‰æ‰€ä¸åŒ</span>
            <span class=err>#</span><span class=n>pragma</span> <span class=n>multi_compile_shadowcaster</span>
            
            <span class=err>#</span><span class=n>include</span> <span class=err>&#34;</span><span class=n>UnityCG</span><span class=p>.</span><span class=n>cginc</span><span class=err>&#34;</span>
            
            <span class=k>float</span> <span class=n>_Magnitude</span><span class=p>;</span>
            <span class=k>float</span> <span class=n>_Frequency</span><span class=p>;</span>
            <span class=k>float</span> <span class=n>_InvWaveLength</span><span class=p>;</span>
            <span class=k>float</span> <span class=n>_Speed</span><span class=p>;</span>
            
            <span class=k>struct</span> <span class=n>v2f</span>
            <span class=p>{</span>
                <span class=c1>// ä½¿ç”¨å®å®šä¹‰é˜´å½±æŠ•å°„éœ€è¦çš„å˜é‡</span>
                <span class=n>V2F_SHADOW_CASTER</span><span class=p>;</span>
            <span class=p>};</span>
            
            <span class=n>v2f</span> <span class=n>vert</span><span class=p>(</span><span class=n>appdata_base</span> <span class=n>v</span><span class=p>)</span>
            <span class=p>{</span>
                <span class=n>v2f</span> <span class=n>o</span><span class=p>;</span>
                
                <span class=c1>// è®¡ç®—æµåŠ¨åŠ¨ç”»åç§»</span>
                <span class=n>float4</span> <span class=n>offset</span><span class=p>;</span>
                <span class=n>offset</span><span class=p>.</span><span class=n>yzw</span> <span class=o>=</span> <span class=n>float3</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span> <span class=mf>0.0</span><span class=p>,</span> <span class=mf>0.0</span><span class=p>);</span>
                <span class=n>offset</span><span class=p>.</span><span class=n>x</span> <span class=o>=</span> <span class=n>sin</span><span class=p>(</span><span class=n>_Frequency</span> <span class=o>*</span> <span class=n>_Time</span><span class=p>.</span><span class=n>y</span> <span class=o>+</span> <span class=n>v</span><span class=p>.</span><span class=n>vertex</span><span class=p>.</span><span class=n>x</span> <span class=o>*</span> <span class=n>_InvWaveLength</span> <span class=o>+</span> <span class=n>v</span><span class=p>.</span><span class=n>vertex</span><span class=p>.</span><span class=n>y</span> <span class=o>*</span> <span class=n>_InvWaveLength</span> <span class=o>+</span> <span class=n>v</span><span class=p>.</span><span class=n>vertex</span><span class=p>.</span><span class=n>z</span> <span class=o>*</span> <span class=n>_InvWaveLength</span><span class=p>)</span> <span class=o>*</span> <span class=n>_Magnitude</span><span class=p>;</span>
                <span class=n>v</span><span class=p>.</span><span class=n>vertex</span> <span class=o>=</span> <span class=n>v</span><span class=p>.</span><span class=n>vertex</span> <span class=o>+</span> <span class=n>offset</span><span class=p>;</span>

                <span class=c1>// ä½¿ç”¨å®è®¡ç®—é˜´å½±çº¹ç†å˜é‡</span>
                <span class=n>TRANSFER_SHADOW_CASTER_NORMALOFFSET</span><span class=p>(</span><span class=n>o</span><span class=p>)</span>
                
                <span class=k>return</span> <span class=n>o</span><span class=p>;</span>
            <span class=p>}</span>
            
            <span class=n>fixed4</span> <span class=n>frag</span><span class=p>(</span><span class=n>v2f</span> <span class=n>i</span><span class=p>)</span><span class=o>:</span> <span class=n>SV_Target</span>
            <span class=p>{</span>
                <span class=c1>// ä½¿ç”¨å®å¯¹é˜´å½±è¿›è¡ŒæŠ•å°„ï¼Œå¹¶å°†ç»“æœè¾“å‡ºåˆ°æ·±åº¦å›¾ä¸é˜´å½±æ˜ å°„çº¹ç†ä¸­</span>
                <span class=n>SHADOW_CASTER_FRAGMENT</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
            <span class=p>}</span>
            <span class=n>ENDCG</span>
            
        <span class=p>}</span>
    <span class=p>}</span>
    <span class=n>FallBack</span> <span class=err>&#34;</span><span class=n>VertexLit</span><span class=err>&#34;</span>
<span class=p>}</span>
</code></pre></div><h2 id=è¡¥å……è¯´æ˜>è¡¥å……è¯´æ˜</h2><ol><li>åœ¨ä¹‹å‰çœ‹åˆ°çš„é‚£æ ·ï¼Œå¦‚æœæˆ‘ä»¬åœ¨æ¨¡å‹ç©ºé—´ä¸‹è¿›è¡Œäº†ä¸€äº›é¡¶ç‚¹åŠ¨ç”»ï¼Œé‚£ä¹ˆ <strong>æ‰¹å¤„ç†</strong> å¾€å¾€å°±ä¼šç ´åè¿™ç§åŠ¨ç”»æ•ˆæœã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <strong>SubShader</strong> çš„ <strong>DisableBatching</strong> æ ‡ç­¾æ¥å¼ºåˆ¶å–æ¶ˆå¯¹è¯¥ Unity Shader çš„ <strong>æ‰¹å¤„ç†</strong> ã€‚ç„¶è€Œï¼Œå–æ¶ˆæ‰¹å¤„ç†ä¼šå¸¦æ¥ä¸€å®šçš„æ€§èƒ½ä¸‹é™ï¼Œå¢åŠ äº† <strong>Draw Call</strong> ï¼Œå› æ­¤æˆ‘ä»¬åº”è¯¥å°½é‡é¿å…ä½¿ç”¨æ¨¡å‹ç©ºé—´ä¸‹çš„ä¸€äº›ç»å¯¹ä½ç½®å’Œæ–¹å‘æ¥è¿›è¡Œè®¡ç®—ã€‚</li><li>åœ¨å¹¿å‘Šç‰Œçš„ä¾‹å­ä¸­ï¼Œä¸ºäº†é¿å…æ˜¾ç¤ºä½¿ç”¨æ¨¡å‹ç©ºé—´çš„ä¸­å¿ƒæ¥ä½œä¸ºé”šç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨é¡¶ç‚¹é¢œè‰²æ¥å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹åˆ°é”šç‚¹çš„è·ç¦»å€¼ï¼Œè¿™ç§åšæ³•åœ¨å•†ä¸šæ¸¸æˆä¸­å¾ˆå¸¸è§ã€‚</li></ol><h2 id=æ€»ç»“>æ€»ç»“</h2><p><strong>çº¹ç†åŠ¨ç”»</strong> ä¸­ä¸»è¦æ˜¯å¯¹è´´å›¾çš„ UV è¿›è¡Œæ“ä½œã€‚</p><p><strong>é¡¶ç‚¹åŠ¨ç”»</strong> ä¸­æ˜¯å¯¹é¡¶ç‚¹è¿›è¡Œç¼–è¾‘ï¼Œè®²åˆ°äº†ä¸¤ä¸ªæŠ€æœ¯ï¼šæµåŠ¨çš„æ²³æµ å’Œ å¹¿å‘Šç‰ŒæŠ€æœ¯ã€‚</p><p><strong>é¡¶ç‚¹åŠ¨ç”»çš„é˜´å½±</strong> ä¸­éœ€è¦æ ¹æ®é¡¶ç‚¹åŠ¨ç”»è‡ªå®šä¹‰ <strong>ShadowCaster Pass</strong>ã€‚</p></section><footer class=article-footer><section class=article-tags><a href=/tags/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81/>Shaderå…¥é—¨ç²¾è¦</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-contents--wrapper><h2 class=section-title>Related contents</h2><div class=related-contents><div class="flex article-list--tile"><article class=has-image><a href=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E9%AB%98%E7%BA%A7%E7%BA%B9%E7%90%86/><div class=article-image><img src=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E9%AB%98%E7%BA%A7%E7%BA%B9%E7%90%86/topimg.67a55883ca0dddee7a38aee92b8bd0c8_hufdc4047d1f13243dc00ee98ca40c3721_1787439_250x150_fill_box_smart1_2.png width=250 height=150 loading=lazy data-key data-hash="md5-Z6VYg8oN3e56OK7pK4vQyA=="></div><div class=article-details><h2 class=article-title>Shaderå…¥é—¨ç²¾è¦-é«˜çº§çº¹ç†</h2></div></a></article><article class=has-image><a href=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E6%9B%B4%E5%8A%A0%E5%A4%8D%E6%9D%82%E7%9A%84%E5%85%89%E7%85%A7/><div class=article-image><img src=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E6%9B%B4%E5%8A%A0%E5%A4%8D%E6%9D%82%E7%9A%84%E5%85%89%E7%85%A7/topimg.6c5c6801e5665142f1afc74f7eccabb9_hud5b4711730563b8f6fe841cfaa71f45d_221051_250x150_fill_box_smart1_2.png width=250 height=150 loading=lazy data-key data-hash="md5-bFxoAeVmUULxr8dPfsyruQ=="></div><div class=article-details><h2 class=article-title>Shaderå…¥é—¨ç²¾è¦-æ›´åŠ å¤æ‚çš„å…‰ç…§</h2></div></a></article><article class=has-image><a href=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E9%80%8F%E6%98%8E%E6%95%88%E6%9E%9C/><div class=article-image><img src=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E9%80%8F%E6%98%8E%E6%95%88%E6%9E%9C/topimg.d65ee7581cfef7096ee4aec08398a608_hucec924f8a8d5e17115b60defab86f43b_300097_250x150_fill_box_smart1_2.png width=250 height=150 loading=lazy data-key data-hash="md5-1l7nWBz+9wlu5K7Ag5imCA=="></div><div class=article-details><h2 class=article-title>Shaderå…¥é—¨ç²¾è¦-é€æ˜æ•ˆæœ</h2></div></a></article><article class=has-image><a href=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E5%9F%BA%E7%A1%80%E7%BA%B9%E7%90%86/><div class=article-image><img src=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E5%9F%BA%E7%A1%80%E7%BA%B9%E7%90%86/topimg.b1f07d907209b24d4812f315eb6ff2fa_hub743dc7ee0e867207b7b55e10230ffbf_426847_250x150_fill_box_smart1_2.png width=250 height=150 loading=lazy data-key data-hash="md5-sfB9kHIJsk1IEvMV62/y+g=="></div><div class=article-details><h2 class=article-title>Shaderå…¥é—¨ç²¾è¦-åŸºç¡€çº¹ç†</h2></div></a></article><article class=has-image><a href=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%AE%80%E5%8D%95%E5%85%89%E7%85%A7%E6%A8%A1%E5%9E%8B/><div class=article-image><img src=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%AE%80%E5%8D%95%E5%85%89%E7%85%A7%E6%A8%A1%E5%9E%8B/topimg.133a0281833f182f38ff49d986a235dc_hubb21fb6872520e85a0401e3049fab639_84088_250x150_fill_q75_h2_box_smart1.webp width=250 height=150 loading=lazy data-key data-hash="md5-EzoCgYM/GC84/0nZhqI13A=="></div><div class=article-details><h2 class=article-title>Shaderå…¥é—¨ç²¾è¦-ç®€å•å…‰ç…§æ¨¡å‹</h2></div></a></article></div></div></aside><script src=https://utteranc.es/client.js repo=YanTree/HUGO_COMMENT issue-term=YanTree/HUGO_COMMENT crossorigin=anonymous async></script><style>.utterances{max-width:unset}</style><script>function setUtterancesTheme(b){let a=document.querySelector('.utterances iframe');a&&a.contentWindow.postMessage({type:'set-theme',theme:`github-${b}`},'https://utteranc.es')}addEventListener('message',a=>{if(a.origin!=='https://utteranc.es')return;setUtterancesTheme(document.body.dataset.scheme)}),window.addEventListener('onColorSchemeChange',a=>{setUtterancesTheme(a.detail)})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2021 YanTree</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=2.3.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous defer></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const a=document.createElement('link');a.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",a.type="text/css",a.rel="stylesheet",document.head.appendChild(a)})()</script></body></html>