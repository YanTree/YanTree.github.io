<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="介绍 Lambert Phong 等光照模型"><title>Shader入门精要-简单光照模型</title><link rel=canonical href=https://yantree.github.io/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%AE%80%E5%8D%95%E5%85%89%E7%85%A7%E6%A8%A1%E5%9E%8B/><link rel=stylesheet href=/scss/style.min.css><meta property="og:title" content="Shader入门精要-简单光照模型"><meta property="og:description" content="介绍 Lambert Phong 等光照模型"><meta property="og:url" content="https://yantree.github.io/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%AE%80%E5%8D%95%E5%85%89%E7%85%A7%E6%A8%A1%E5%9E%8B/"><meta property="og:site_name" content="YanTree"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="Shader入门精要"><meta property="article:published_time" content="2021-05-28T22:34:22+08:00"><meta property="article:modified_time" content="2021-05-28T22:34:22+08:00"><meta property="og:image" content="https://yantree.github.io/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%AE%80%E5%8D%95%E5%85%89%E7%85%A7%E6%A8%A1%E5%9E%8B/topimg.webp"><meta name=twitter:title content="Shader入门精要-简单光照模型"><meta name=twitter:description content="介绍 Lambert Phong 等光照模型"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://yantree.github.io/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%AE%80%E5%8D%95%E5%85%89%E7%85%A7%E6%A8%A1%E5%9E%8B/topimg.webp"><link rel="shortcut icon" href=img/favicon.ico></head><body><script>(function(){const a='StackColorScheme';localStorage.getItem(a)||localStorage.setItem(a,"auto")})()</script><script>(function(){const b='StackColorScheme',a=localStorage.getItem(b),c=window.matchMedia('(prefers-color-scheme: dark)').matches===!0;a=='dark'||a==='auto'&&c?document.body.dataset.scheme='dark':document.body.dataset.scheme='light'})()</script><div class="container main-container flex on-phone--column extended article-page with-toolbar"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header class=site-info><figure class=site-avatar><img src=/img/avatar_hud8215445c04336af6f3d5658bab85db7_7222_300x0_resize_box_2.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
<span class=emoji>🍥</span></figure><h1 class=site-name><a href=https://yantree.github.io/>YanTree</a></h1><h2 class=site-description>子非蝶，亦非周</h2></header><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>主页</span></a></li><li><a href=/%E5%85%B3%E4%BA%8E/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>关于</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>归档</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>搜索</span></a></li><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>暗色模式</span></li></ol></aside><main class="main full-width"><div id=article-toolbar><a href=https://yantree.github.io/ class=back-home><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="15 6 9 12 15 18"/></svg><span>Back</span></a></div><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%AE%80%E5%8D%95%E5%85%89%E7%85%A7%E6%A8%A1%E5%9E%8B/><img src=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%AE%80%E5%8D%95%E5%85%89%E7%85%A7%E6%A8%A1%E5%9E%8B/topimg_hubb21fb6872520e85a0401e3049fab639_84088_800x0_resize_q75_h2_box.webp srcset="/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%AE%80%E5%8D%95%E5%85%89%E7%85%A7%E6%A8%A1%E5%9E%8B/topimg_hubb21fb6872520e85a0401e3049fab639_84088_800x0_resize_q75_h2_box.webp 800w, /p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%AE%80%E5%8D%95%E5%85%89%E7%85%A7%E6%A8%A1%E5%9E%8B/topimg_hubb21fb6872520e85a0401e3049fab639_84088_1600x0_resize_q75_h2_box.webp 1600w" width=800 height=433 loading=lazy alt="Featured image of post Shader入门精要-简单光照模型"></a></div><div class=article-details><header class=article-category><a href=/categories/%E6%B8%B2%E6%9F%93/>渲染</a></header><h2 class=article-title><a href=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%AE%80%E5%8D%95%E5%85%89%E7%85%A7%E6%A8%A1%E5%9E%8B/>Shader入门精要-简单光照模型</a></h2><h3 class=article-subtitle>介绍 Lambert Phong 等光照模型</h3><footer class=article-time><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--published>May 28, 2021</time></footer></div></header><section class=article-content><h1 id=技术美术基础光照模型>技术美术——基础光照模型</h1><h2 id=lambert>Lambert</h2><p>Lambert 光照模型的光照计算简单粗暴，是光源方向点成法线方向，其值在 [-1, 1] 之间，基本计算公式如下：</p><blockquote><p>C = (c * m) * max(0 , n * l )</p></blockquote><div class=highlight><pre class=chroma><code class=language-glsl data-lang=glsl><span class=c1>// 法线方向点乘光源方向</span>
<span class=k>float</span> <span class=n>NdotL</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span><span class=n>dot</span><span class=p>(</span><span class=n>normalDirection</span><span class=p>,</span><span class=n>lightDirection</span><span class=p>));</span>
<span class=k>float</span> <span class=n>LambertDiffuse</span> <span class=o>=</span> <span class=n>NdotL</span> <span class=o>*</span> <span class=n>SurfaceColor</span><span class=p>;</span>
<span class=n>float3</span> <span class=n>finalColor</span> <span class=o>=</span> <span class=n>LambertDiffuse</span> <span class=o>*</span> <span class=n>LightColor</span><span class=p>;</span>
</code></pre></div><h2 id=half-lambert>Half Lambert</h2><p>Lambert 光照模型是一个简单方便的光照计算模型，但是，有一个问题存在。在光照无法照射的区域，模型外观变成了全黑，没有任何明暗的变化，使得模型背光区看起来像一个平面，失去了模型细节表现。可以通过添加环境光来得到非全黑的效果，但即使这样仍然无法解决背光面明暗一样的缺点。为了解决这个问题，有人在 Lambert 光照模型的基础上进行改良，这就是 <code>Half Lambert</code> 光照模型，通过乘以一个系数 a 再加上一个系数 b 的方法，将 <code>Lambert</code> 光照模型的值 [-1, 1] 重新映射至 [-a + b, a + b]，绝大多数情况下 a b 的值都取 0.5 ，这样 <code>Half Lambert</code> 光照模型的值 [0, 1]，在一定程度上改善了 <code>Lambert</code> 光照模型所带来的问题：</p><div class=highlight><pre class=chroma><code class=language-glsl data-lang=glsl><span class=c1>// </span>
<span class=k>float</span> <span class=n>NdotL</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span><span class=n>dot</span><span class=p>(</span><span class=n>normalDirection</span><span class=p>,</span><span class=n>lightDirection</span><span class=p>)</span> <span class=o>*</span> <span class=mf>0.5</span> <span class=o>+</span> <span class=mf>0.5</span><span class=p>);</span>
<span class=k>float</span> <span class=n>HalfLambertDiffuse</span> <span class=o>=</span> <span class=n>NdotL</span> <span class=o>*</span> <span class=n>SurfaceColor</span><span class=p>;</span>
<span class=n>float3</span> <span class=n>finalColor</span> <span class=o>=</span> <span class=n>HalfLambertDiffuse</span> <span class=o>*</span> <span class=n>LightColor</span><span class=p>;</span>
</code></pre></div><h2 id=phong-lighting>Phong Lighting</h2><p>高光计算部分，基本计算公式：</p><blockquote><p>Cspecular = (Clight * M specular)Max(0, V * r)</p></blockquote><p>需要四个参数参与计算，入射光的颜色和强度 Clight，材质的高光反射系数 Mspecular，视线方向 v 以及反射方向 r。</p><div class=highlight><pre class=chroma><code class=language-glsl data-lang=glsl><span class=c1>// 视线方向，摄像机坐标 - 顶点坐标得到视线方向，向量从顶点指向摄像机，就是视线方向 </span>
<span class=n>float3</span> <span class=n>viewDirection</span> <span class=o>=</span> <span class=n>normalize</span><span class=p>(</span><span class=n>_WorldSpaceCameraPos</span><span class=p>.</span><span class=n>xyz</span> <span class=o>-</span> <span class=n>i</span><span class=p>.</span><span class=n>posWorld</span><span class=p>.</span><span class=n>xyz</span><span class=p>);</span>
<span class=c1>// 光线反射方向，有光源方向和顶点的法线方向计算得到</span>
<span class=n>float3</span> <span class=n>lightReflectDirection</span> <span class=o>=</span> <span class=n>reflect</span><span class=p>(</span> <span class=o>-</span><span class=n>lightDirection</span><span class=p>,</span> <span class=n>normalDirection</span> <span class=p>);</span>
<span class=c1>// Lambert 光照模型</span>
<span class=k>float</span> <span class=n>NdotL</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=mo>0</span><span class=p>,</span> <span class=n>dot</span><span class=p>(</span> <span class=n>normalDirection</span><span class=p>,</span> <span class=n>lightDirection</span> <span class=p>));</span>
<span class=k>float</span> <span class=n>RdotV</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=mo>0</span><span class=p>,</span> <span class=n>dot</span><span class=p>(</span> <span class=n>lightReflectDirection</span><span class=p>,</span> <span class=n>viewDirection</span> <span class=p>));</span>
<span class=c1>// 计算具体的高光，是一个指数函数，再乘以光照强度、高光颜色</span>
<span class=n>float3</span> <span class=n>specularity</span> <span class=o>=</span> <span class=n>pow</span><span class=p>(</span><span class=n>RdotV</span><span class=p>,</span> <span class=n>_SpecularGloss</span><span class=o>/</span><span class=mi>4</span><span class=p>)</span> <span class=o>*</span><span class=n>_SpecularPower</span> <span class=o>*</span><span class=n>_SpecularColor</span><span class=p>.</span><span class=n>rgb</span> <span class=p>;</span>

<span class=n>float3</span> <span class=n>lightingModel</span> <span class=o>=</span> <span class=n>NdotL</span> <span class=o>*</span> <span class=n>diffuseColor</span> <span class=o>+</span> <span class=n>specularity</span><span class=p>;</span>
</code></pre></div><h2 id=blinn-phong>Blinn-Phong</h2><p>高光计算部分，基本公式：</p><blockquote><p>Cspecular = (Clight * M specular)Max(0, n * h)</p></blockquote><p>不同于 <code>Phong</code> 模型，这里不使用视线方向 v 和反射方向 r，取而代之的是引入新的矢量 h，通过视角方向 v 和光照方向 i 相加归一化处理后得到。</p><div class=highlight><pre class=chroma><code class=language-glsl data-lang=glsl><span class=c1>// 视线方向，摄像机坐标 - 顶点坐标得到视线方向，向量从顶点指向摄像机，就是视线方向 </span>
<span class=n>float3</span> <span class=n>viewDirection</span> <span class=o>=</span> <span class=n>normalize</span><span class=p>(</span><span class=n>_WorldSpaceCameraPos</span><span class=p>.</span><span class=n>xyz</span> <span class=o>-</span> <span class=n>i</span><span class=p>.</span><span class=n>posWorld</span><span class=p>.</span><span class=n>xyz</span><span class=p>);</span>
<span class=c1>// 半角方向，根据经验取得的模型，让视线方向+光源方向作为光反射的方向</span>
<span class=n>float3</span> <span class=n>halfDirection</span> <span class=o>=</span> <span class=n>normalize</span><span class=p>(</span><span class=n>viewDirection</span><span class=o>+</span><span class=n>lightDirection</span><span class=p>);</span> 
<span class=k>float</span> <span class=n>NdotL</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=mo>0</span><span class=p>,</span> <span class=n>dot</span><span class=p>(</span> <span class=n>normalDirection</span><span class=p>,</span> <span class=n>lightDirection</span> <span class=p>));</span>
<span class=k>float</span> <span class=n>NdotV</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=mo>0</span><span class=p>,</span> <span class=n>dot</span><span class=p>(</span> <span class=n>normalDirection</span><span class=p>,</span> <span class=n>halfDirection</span> <span class=p>));</span>
<span class=c1>// 计算具体的高光，是一个指数函数，再乘以光照强度、高光颜色</span>
<span class=n>float3</span> <span class=n>specularity</span> <span class=o>=</span> <span class=n>pow</span><span class=p>(</span><span class=n>NdotV</span> <span class=p>,</span><span class=n>_SpecularGloss</span><span class=p>)</span><span class=o>*</span><span class=n>_SpecularPower</span>
 <span class=o>*</span><span class=n>_SpecularColor</span><span class=p>.</span><span class=n>rgb</span> <span class=p>;</span>

<span class=n>float3</span> <span class=n>lightingModel</span> <span class=o>=</span> <span class=n>NdotL</span> <span class=o>*</span> <span class=n>diffuseColor</span> <span class=o>+</span> <span class=n>specularity</span><span class=p>;</span>
</code></pre></div><h2 id=总结>总结</h2><p>在实际应用中，我们还是大量使用 <code>Half Lambert</code> 和 <code>Blinn-Phong</code> 光照模型，需要注意的是，这两个模型都是 <strong>经验</strong> 模型，我们从物理的角度看，这两个模型都是不正确的，但是，在实际的渲染中，这两个模型的结果更让人满意。最后给出适用的代码，可以根据需要自行注释掉关于光照部分计算的代码来观察不同光照模型之间的区别</p><p><figure style=flex-grow:177;flex-basis:425px><a href=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%AE%80%E5%8D%95%E5%85%89%E7%85%A7%E6%A8%A1%E5%9E%8B/lightingmodel.png data-size=1547x872><img src=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%AE%80%E5%8D%95%E5%85%89%E7%85%A7%E6%A8%A1%E5%9E%8B/lightingmodel.png srcset="/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%AE%80%E5%8D%95%E5%85%89%E7%85%A7%E6%A8%A1%E5%9E%8B/lightingmodel_huf926d0fb8ea00f04d34bca55eaa16dd7_262933_480x0_resize_box_2.png 480w, /p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%AE%80%E5%8D%95%E5%85%89%E7%85%A7%E6%A8%A1%E5%9E%8B/lightingmodel_huf926d0fb8ea00f04d34bca55eaa16dd7_262933_1024x0_resize_box_2.png 1024w" width=1547 height=872 loading=lazy alt=四种不同光照模型的结果></a><figcaption>四种不同光照模型的结果</figcaption></figure></p><div class=highlight><pre class=chroma><code class=language-glsl data-lang=glsl><span class=n>Shader</span> <span class=err>&#34;</span><span class=n>URP</span><span class=o>/</span><span class=n>HalfLambertBlinnPhong</span><span class=err>&#34;</span>
<span class=p>{</span>
    <span class=n>Properties</span>
    <span class=p>{</span>
        <span class=n>_Diffuse</span> <span class=p>(</span><span class=err>&#34;</span><span class=n>Diffuse</span><span class=err>&#34;</span><span class=p>,</span> <span class=n>Color</span><span class=p>)</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>)</span>
        <span class=n>_Specular</span><span class=p>(</span><span class=err>&#34;</span><span class=n>Specular</span><span class=err>&#34;</span><span class=p>,</span><span class=n>Color</span><span class=p>)</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>)</span>
        <span class=n>_Gloss</span><span class=p>(</span><span class=err>&#34;</span><span class=n>Gloss</span><span class=err>&#34;</span><span class=p>,</span><span class=n>Range</span><span class=p>(</span><span class=mf>1.0</span><span class=p>,</span><span class=mi>200</span><span class=p>))</span><span class=o>=</span><span class=mi>10</span>
    <span class=p>}</span>

    <span class=n>SubShader</span>
    <span class=p>{</span>
        <span class=n>Tags</span> <span class=p>{</span> <span class=err>&#34;</span><span class=n>RenderPipeline</span><span class=err>&#34;</span><span class=o>=</span><span class=err>&#34;</span><span class=n>UniversalRenderPipeline</span><span class=err>&#34;</span> <span class=err>&#34;</span><span class=n>RenderType</span><span class=err>&#34;</span><span class=o>=</span><span class=err>&#34;</span><span class=n>Opaque</span><span class=err>&#34;</span> <span class=p>}</span>

        <span class=n>Pass</span>
        <span class=p>{</span>
            <span class=n>Tags</span> <span class=p>{</span> <span class=err>&#34;</span><span class=n>LightMode</span><span class=err>&#34;</span><span class=o>=</span><span class=err>&#34;</span><span class=n>UniversalForward</span><span class=err>&#34;</span><span class=p>}</span>

            <span class=n>HLSLPROGRAM</span>
            <span class=c1>// UnityCG.cginc 文件被代替，使用 HLSL 文件，这里引用文件</span>
            <span class=err>#</span><span class=n>include</span> <span class=err>&#34;</span><span class=n>Packages</span><span class=o>/</span><span class=n>com</span><span class=p>.</span><span class=n>unity</span><span class=p>.</span><span class=n>render</span><span class=o>-</span><span class=n>pipelines</span><span class=p>.</span><span class=n>universal</span><span class=o>/</span><span class=n>ShaderLibrary</span><span class=o>/</span><span class=n>Core</span><span class=p>.</span><span class=n>hlsl</span><span class=err>&#34;</span>
            <span class=err>#</span><span class=n>include</span> <span class=err>&#34;</span><span class=n>Packages</span><span class=o>/</span><span class=n>com</span><span class=p>.</span><span class=n>unity</span><span class=p>.</span><span class=n>render</span><span class=o>-</span><span class=n>pipelines</span><span class=p>.</span><span class=n>universal</span><span class=o>/</span><span class=n>ShaderLibrary</span><span class=o>/</span><span class=n>Lighting</span><span class=p>.</span><span class=n>hlsl</span><span class=err>&#34;</span>
            <span class=err>#</span><span class=n>include</span> <span class=err>&#34;</span><span class=n>Packages</span><span class=o>/</span><span class=n>com</span><span class=p>.</span><span class=n>unity</span><span class=p>.</span><span class=n>render</span><span class=o>-</span><span class=n>pipelines</span><span class=p>.</span><span class=n>core</span><span class=o>/</span><span class=n>ShaderLibrary</span><span class=o>/</span><span class=n>SpaceTransforms</span><span class=p>.</span><span class=n>hlsl</span><span class=err>&#34;</span>

            <span class=err>#</span><span class=n>pragma</span> <span class=n>vertex</span> <span class=n>vert</span>
            <span class=err>#</span><span class=n>pragma</span> <span class=n>fragment</span> <span class=n>frag</span>

            <span class=n>CBUFFER_START</span><span class=p>(</span><span class=n>UnityPerMaterial</span><span class=p>)</span> <span class=c1>// 兼容 SRP 批处理，将所有材质属性声明在一个 UnityPerMaterial 的 CBUFFER 块中   </span>
            <span class=n>float4</span> <span class=n>_Diffuse</span><span class=p>;</span>
            <span class=n>float4</span> <span class=n>_Specular</span><span class=p>;</span>
            <span class=k>float</span> <span class=n>_Gloss</span><span class=p>;</span>
            <span class=n>CBUFFER_END</span>

            <span class=k>struct</span> <span class=n>a2v</span>
            <span class=p>{</span>
                <span class=n>float4</span> <span class=n>vertex</span> <span class=o>:</span> <span class=n>POSITION</span><span class=p>;</span>
                <span class=n>float3</span> <span class=n>normal</span> <span class=o>:</span> <span class=n>NORMAL</span><span class=p>;</span>
                <span class=n>float2</span> <span class=n>lightmapUV</span> <span class=o>:</span> <span class=n>TEXCOORD1</span><span class=p>;</span>
            <span class=p>};</span>

            <span class=k>struct</span> <span class=n>v2f</span>
            <span class=p>{</span>
                <span class=n>float4</span> <span class=n>pos</span> <span class=o>:</span> <span class=n>SV_POSITION</span><span class=p>;</span>
                <span class=n>float3</span> <span class=n>worldNormal</span> <span class=o>:</span> <span class=n>TEXCOORD0</span><span class=p>;</span>
                <span class=n>float3</span> <span class=n>worldPos</span> <span class=o>:</span> <span class=n>TEXCOORD1</span><span class=p>;</span> 
            <span class=p>};</span>
            <span class=n>v2f</span> <span class=n>vert</span><span class=p>(</span><span class=n>a2v</span> <span class=n>v</span><span class=p>)</span>
            <span class=p>{</span>
                <span class=n>v2f</span> <span class=n>o</span><span class=p>;</span>
                <span class=n>ZERO_INITIALIZE</span><span class=p>(</span><span class=n>v2f</span><span class=p>,</span> <span class=n>o</span><span class=p>);</span>   <span class=c1>// 初始化变量</span>
                <span class=n>o</span><span class=p>.</span><span class=n>pos</span><span class=o>=</span><span class=n>TransformObjectToHClip</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>vertex</span><span class=p>.</span><span class=n>xyz</span><span class=p>);</span>           <span class=c1>// 顶点坐标从模型空间转到裁剪空间</span>
                <span class=n>o</span><span class=p>.</span><span class=n>worldNormal</span> <span class=o>=</span> <span class=n>TransformObjectToWorldDir</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>normal</span><span class=p>);</span>  <span class=c1>// 法线从模型空间转到世界空间</span>
                <span class=n>o</span><span class=p>.</span><span class=n>worldPos</span> <span class=o>=</span> <span class=n>TransformObjectToWorldDir</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>vertex</span><span class=p>.</span><span class=n>xyz</span><span class=p>);</span> <span class=c1>// 顶点从对象空间转到世界空间</span>
                <span class=k>return</span> <span class=n>o</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=n>half4</span> <span class=n>frag</span><span class=p>(</span><span class=n>v2f</span> <span class=n>i</span><span class=p>)</span><span class=o>:</span><span class=n>SV_Target</span>
            <span class=p>{</span>
                <span class=n>Light</span> <span class=n>mainLight</span> <span class=o>=</span> <span class=n>GetMainLight</span><span class=p>();</span>  <span class=c1>// 获取主光源</span>
                <span class=n>half3</span> <span class=n>worldNormal</span> <span class=o>=</span> <span class=n>normalize</span><span class=p>(</span><span class=n>i</span><span class=p>.</span><span class=n>worldNormal</span><span class=p>);</span> <span class=c1>// 顶点法线方向归一化</span>
                <span class=n>half3</span> <span class=n>worldLightDir</span> <span class=o>=</span> <span class=n>normalize</span><span class=p>(</span><span class=n>TransformObjectToWorldDir</span><span class=p>(</span><span class=n>mainLight</span><span class=p>.</span><span class=n>direction</span><span class=p>));</span> <span class=c1>// 主光源方向归一化</span>
                <span class=n>half3</span> <span class=n>viewDir</span> <span class=o>=</span> <span class=n>normalize</span><span class=p>(</span><span class=n>_WorldSpaceCameraPos</span><span class=p>.</span><span class=n>xyz</span> <span class=o>-</span> <span class=n>i</span><span class=p>.</span><span class=n>worldPos</span><span class=p>);</span> <span class=c1>// 计算视角方向并且归一化</span>
                <span class=n>half3</span> <span class=n>lightReflectDir</span> <span class=o>=</span> <span class=n>reflect</span><span class=p>(</span> <span class=o>-</span><span class=n>worldLightDir</span><span class=p>,</span> <span class=n>worldNormal</span> <span class=p>);</span>   <span class=c1>// 计算 phong 模型中高光部分</span>
                <span class=n>half3</span> <span class=n>halfDir</span> <span class=o>=</span> <span class=n>normalize</span><span class=p>(</span><span class=n>worldLightDir</span> <span class=o>+</span> <span class=n>viewDir</span><span class=p>);</span> <span class=c1>// 计算半角方向且归一化</span>

                <span class=n>half3</span> <span class=n>NdotL</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span> <span class=n>dot</span><span class=p>(</span><span class=n>worldNormal</span><span class=p>,</span> <span class=n>worldLightDir</span><span class=p>));</span>   <span class=c1>// Lambert</span>
                <span class=n>half3</span> <span class=n>RdotV</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span> <span class=n>dot</span><span class=p>(</span><span class=n>worldNormal</span><span class=p>,</span> <span class=n>lightReflectDir</span><span class=p>));</span> <span class=c1>// Phong</span>
                <span class=n>half3</span> <span class=n>NdotV</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span> <span class=n>dot</span><span class=p>(</span><span class=n>worldNormal</span><span class=p>,</span> <span class=n>halfDir</span><span class=p>));</span>         <span class=c1>// Blinn-Phong</span>

                <span class=c1>/// lambert + Phong</span>
                <span class=c1>//half3 diffuse = mainLight.color.rgb * _Diffuse.rgb * NdotL;</span>
                <span class=c1>//half3 specular = mainLight.color.rgb * _Specular.rgb * pow(RdotV, _Gloss);</span>

                <span class=c1>/// Lambert + Blinn-Phong</span>
                <span class=c1>//half3 diffuse = mainLight.color.rgb * _Diffuse.rgb * NdotL;</span>
                <span class=c1>//half3 specular = mainLight.color.rgb * _Specular.rgb * pow(NdotV, _Gloss);</span>

                <span class=c1>/// Half Lambert + Phong</span>
                <span class=c1>//half3 diffuse = mainLight.color.rgb * _Diffuse.rgb * pow(NdotL * 0.5 + 0.5, 2.0);</span>
                <span class=c1>//half3 specular = mainLight.color.rgb * _Specular.rgb * pow(RdotV, _Gloss);</span>

                <span class=c1>/// Half Lambert + Blinn-Phong</span>
                <span class=n>half3</span> <span class=n>diffuse</span> <span class=o>=</span> <span class=n>mainLight</span><span class=p>.</span><span class=n>color</span><span class=p>.</span><span class=n>rgb</span> <span class=o>*</span> <span class=n>_Diffuse</span><span class=p>.</span><span class=n>rgb</span> <span class=o>*</span> <span class=n>pow</span><span class=p>(</span><span class=n>NdotL</span> <span class=o>*</span> <span class=mf>0.5</span> <span class=o>+</span> <span class=mf>0.5</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>);</span>
                <span class=n>half3</span> <span class=n>specular</span> <span class=o>=</span> <span class=n>mainLight</span><span class=p>.</span><span class=n>color</span><span class=p>.</span><span class=n>rgb</span> <span class=o>*</span> <span class=n>_Specular</span><span class=p>.</span><span class=n>rgb</span> <span class=o>*</span> <span class=n>pow</span><span class=p>(</span><span class=n>NdotV</span><span class=p>,</span> <span class=n>_Gloss</span><span class=p>);</span>
                
                <span class=c1>// 计算环境光</span>
                <span class=n>half3</span> <span class=n>ambient</span> <span class=o>=</span> <span class=n>_GlossyEnvironmentColor</span><span class=p>;</span>

                <span class=n>half4</span> <span class=n>col</span><span class=o>=</span> <span class=n>half4</span><span class=p>(</span><span class=n>ambient</span> <span class=o>+</span> <span class=n>diffuse</span> <span class=o>+</span> <span class=n>specular</span><span class=p>,</span> <span class=mf>1.0</span><span class=p>);</span>
                <span class=k>return</span> <span class=n>col</span><span class=p>;</span>
            <span class=p>}</span>
            <span class=n>ENDHLSL</span>
        <span class=p>}</span>
    <span class=p>}</span>
    <span class=n>FallBack</span> <span class=err>&#34;</span><span class=n>Packages</span><span class=o>/</span><span class=n>com</span><span class=p>.</span><span class=n>unity</span><span class=p>.</span><span class=n>render</span><span class=o>-</span><span class=n>pipelines</span><span class=p>.</span><span class=n>universal</span><span class=o>/</span><span class=n>FallbackError</span><span class=err>&#34;</span>
<span class=p>}</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-glsl data-lang=glsl><span class=n>Shader</span> <span class=err>&#34;</span><span class=n>SRP</span><span class=o>/</span><span class=n>HalfLambertBlinnPhong</span><span class=err>&#34;</span>
<span class=p>{</span>
    <span class=n>Properties</span>
    <span class=p>{</span>
        <span class=n>_Diffuse</span><span class=p>(</span><span class=err>&#34;</span><span class=n>Diffuse</span> <span class=n>Color</span><span class=err>&#34;</span><span class=p>,</span> <span class=n>Color</span><span class=p>)</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>)</span>
        <span class=n>_SpcularColor</span><span class=p>(</span><span class=err>&#34;</span><span class=n>Spcular</span> <span class=n>Color</span><span class=err>&#34;</span><span class=p>,</span> <span class=n>Color</span><span class=p>)</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>)</span>
        <span class=n>_SpcularStrength</span><span class=p>(</span><span class=err>&#34;</span><span class=n>Spcular</span> <span class=n>Strenght</span><span class=err>&#34;</span><span class=p>,</span> <span class=n>Range</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span> <span class=mi>100</span><span class=p>))</span> <span class=o>=</span> <span class=mi>10</span>
    <span class=p>}</span>
    <span class=n>SubShader</span>
    <span class=p>{</span>
        <span class=n>Tags</span> <span class=p>{</span> <span class=err>&#34;</span><span class=n>RenderType</span><span class=err>&#34;</span><span class=o>=</span><span class=err>&#34;</span><span class=n>Opaque</span><span class=err>&#34;</span> <span class=p>}</span>
        <span class=n>LOD</span> <span class=mi>100</span>

        <span class=n>Pass</span>
        <span class=p>{</span>
            <span class=n>CGPROGRAM</span>
            <span class=err>#</span><span class=n>pragma</span> <span class=n>vertex</span> <span class=n>vert</span>
            <span class=err>#</span><span class=n>pragma</span> <span class=n>fragment</span> <span class=n>frag</span>

            <span class=err>#</span><span class=n>include</span> <span class=err>&#34;</span><span class=n>UnityCG</span><span class=p>.</span><span class=n>cginc</span><span class=err>&#34;</span>
            <span class=err>#</span><span class=n>include</span> <span class=err>&#34;</span><span class=n>Lighting</span><span class=p>.</span><span class=n>cginc</span><span class=err>&#34;</span>

            <span class=n>float4</span> <span class=n>_Diffuse</span><span class=p>;</span>
            <span class=n>float4</span> <span class=n>_SpcularColor</span><span class=p>;</span>
            <span class=k>float</span> <span class=n>_SpcularStrength</span><span class=p>;</span>

            <span class=k>struct</span> <span class=n>appdata</span>
            <span class=p>{</span>
                <span class=n>float4</span> <span class=n>vertex</span> <span class=o>:</span> <span class=n>POSITION</span><span class=p>;</span>
                <span class=n>float3</span> <span class=n>normal</span> <span class=o>:</span> <span class=n>NORMAL</span><span class=p>;</span>
            <span class=p>};</span>

            <span class=k>struct</span> <span class=n>v2f</span>
            <span class=p>{</span>
                <span class=n>float4</span> <span class=n>pos</span> <span class=o>:</span> <span class=n>SV_POSITION</span><span class=p>;</span>
                <span class=n>float3</span> <span class=n>worldNormal</span> <span class=o>:</span> <span class=n>NORMAL</span><span class=p>;</span>
                <span class=n>float3</span> <span class=n>worldPos</span> <span class=o>:</span> <span class=n>TEXCOORD0</span><span class=p>;</span>
            <span class=p>};</span>

            <span class=n>v2f</span> <span class=n>vert</span> <span class=p>(</span><span class=n>appdata</span> <span class=n>v</span><span class=p>)</span>
            <span class=p>{</span>
                <span class=n>v2f</span> <span class=n>o</span><span class=p>;</span>
                <span class=n>o</span><span class=p>.</span><span class=n>pos</span> <span class=o>=</span> <span class=n>UnityObjectToClipPos</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>vertex</span><span class=p>);</span>  <span class=c1>// 顶点坐标从模型空间转到裁剪空间</span>
                <span class=n>o</span><span class=p>.</span><span class=n>worldNormal</span> <span class=o>=</span> <span class=n>UnityObjectToWorldDir</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>normal</span><span class=p>);</span> <span class=c1>// 将法线从模型空间转到世界空间</span>
                <span class=n>o</span><span class=p>.</span><span class=n>worldPos</span> <span class=o>=</span> <span class=n>UnityObjectToWorldDir</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>vertex</span><span class=p>);</span>    <span class=c1>// 将顶点从模型空间转到世界空间</span>
                <span class=k>return</span> <span class=n>o</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=n>fixed4</span> <span class=n>frag</span> <span class=p>(</span><span class=n>v2f</span> <span class=n>i</span><span class=p>)</span> <span class=o>:</span> <span class=n>SV_Target</span>
            <span class=p>{</span>
                <span class=n>half3</span> <span class=n>ambient</span> <span class=o>=</span> <span class=n>UNITY_LIGHTMODEL_AMBIENT</span><span class=p>.</span><span class=n>xyz</span><span class=p>;</span> <span class=c1>// 获取环境光</span>
                <span class=n>half3</span> <span class=n>worldLightDir</span><span class=o>=</span><span class=n>normalize</span><span class=p>(</span><span class=n>_WorldSpaceLightPos0</span><span class=p>.</span><span class=n>xyz</span><span class=p>);</span> <span class=c1>// 主光源的方向</span>
                <span class=n>half3</span> <span class=n>worldNormal</span> <span class=o>=</span> <span class=n>normalize</span><span class=p>(</span><span class=n>i</span><span class=p>.</span><span class=n>worldNormal</span><span class=p>);</span>            <span class=c1>// 法线方向</span>
                <span class=n>half3</span> <span class=n>viewDir</span> <span class=o>=</span> <span class=n>normalize</span><span class=p>(</span><span class=n>_WorldSpaceCameraPos</span><span class=p>.</span><span class=n>xyz</span> <span class=o>-</span> <span class=n>i</span><span class=p>.</span><span class=n>worldPos</span><span class=p>);</span> <span class=c1>// 视角方向</span>
                <span class=n>half3</span> <span class=n>lightReflectDir</span> <span class=o>=</span> <span class=n>reflect</span><span class=p>(</span><span class=o>-</span><span class=n>worldLightDir</span><span class=p>,</span> <span class=n>worldNormal</span><span class=p>);</span>     <span class=c1>// 主光源光线反射方向</span>
                <span class=n>half3</span> <span class=n>halfDir</span> <span class=o>=</span> <span class=n>normalize</span><span class=p>(</span><span class=n>viewDir</span> <span class=o>+</span> <span class=n>worldLightDir</span><span class=p>);</span>

                <span class=n>half3</span> <span class=n>NdotL</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span> <span class=n>dot</span><span class=p>(</span><span class=n>worldNormal</span><span class=p>,</span> <span class=n>worldLightDir</span><span class=p>));</span>   <span class=c1>// lambert</span>
                <span class=n>half3</span> <span class=n>RdotV</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span> <span class=n>dot</span><span class=p>(</span><span class=n>worldNormal</span><span class=p>,</span> <span class=n>lightReflectDir</span><span class=p>));</span> <span class=c1>// phong</span>
                <span class=n>half3</span> <span class=n>NdotV</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span> <span class=n>dot</span><span class=p>(</span><span class=n>worldNormal</span><span class=p>,</span> <span class=n>halfDir</span><span class=p>));</span>         <span class=c1>// blinn phong</span>

                <span class=c1>// lambert + phong</span>
                <span class=c1>//half3 diffuse = _LightColor0.rgb * _Diffuse * NdotL;</span>
                <span class=c1>//half3 specular = _LightColor0.rgb * _SpcularColor.rgb * pow(RdotV, _SpcularStrength);</span>
                <span class=c1>// Lambert + blinn phong</span>
                <span class=c1>//half3 diffuse = _LightColor0.rgb * _Diffuse * NdotL;</span>
                <span class=c1>//half3 specular = _LightColor0.rgb * _SpcularColor.rgb * pow(NdotV, _SpcularStrength);</span>
                <span class=c1>// half lambert + phong</span>
                <span class=c1>//half3 diffuse = _LightColor0.rgb * _Diffuse * pow(NdotL * 0.5 + 0.5, 2.0);</span>
                <span class=c1>//half3 specular = _LightColor0.rgb * _SpcularColor.rgb * pow(RdotV, _SpcularStrength);</span>
                <span class=c1>// half lambert + blinn phong</span>
                <span class=n>half3</span> <span class=n>diffuse</span> <span class=o>=</span> <span class=n>_LightColor0</span><span class=p>.</span><span class=n>rgb</span> <span class=o>*</span> <span class=n>_Diffuse</span> <span class=o>*</span> <span class=n>pow</span><span class=p>(</span><span class=n>NdotL</span> <span class=o>*</span> <span class=mf>0.5</span> <span class=o>+</span> <span class=mf>0.5</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>);</span>
                <span class=n>half3</span> <span class=n>specular</span> <span class=o>=</span> <span class=n>_LightColor0</span><span class=p>.</span><span class=n>rgb</span> <span class=o>*</span> <span class=n>_SpcularColor</span><span class=p>.</span><span class=n>rgb</span> <span class=o>*</span> <span class=n>pow</span><span class=p>(</span><span class=n>NdotV</span><span class=p>,</span> <span class=n>_SpcularStrength</span><span class=p>);</span>

                <span class=k>return</span> <span class=n>half4</span><span class=p>(</span><span class=n>diffuse</span> <span class=o>+</span> <span class=n>specular</span> <span class=o>+</span> <span class=n>ambient</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span>
            <span class=p>}</span>
            <span class=n>ENDCG</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><p>相关链接 <a class=link href=https://www.jordanstevenstechart.com/lighting-models target=_blank rel=noopener>Lighting Models In Unity - Jordan Stevens</a></p></section><footer class=article-footer><section class=article-tags><a href=/tags/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81/>Shader入门精要</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-contents--wrapper><h2 class=section-title>相关文章</h2><div class=related-contents><div class="flex article-list--tile"><article class=has-image><a href=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%94%BB%E9%9D%A2%E5%8A%A8%E8%B5%B7%E6%9D%A5/><div class=article-image><img src=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E7%94%BB%E9%9D%A2%E5%8A%A8%E8%B5%B7%E6%9D%A5/topimg.da92c8fea658637ee841a18e087c1f1f_huc02f10a1e3cad6ccefc74d8d773bec3e_154933_250x150_fill_box_smart1_2.png width=250 height=150 loading=lazy data-key data-hash="md5-2pLI/qZYY37oQaGOCHwfHw=="></div><div class=article-details><h2 class=article-title>Shader入门精要-画面动起来</h2></div></a></article><article class=has-image><a href=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E9%AB%98%E7%BA%A7%E7%BA%B9%E7%90%86/><div class=article-image><img src=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E9%AB%98%E7%BA%A7%E7%BA%B9%E7%90%86/topimg.67a55883ca0dddee7a38aee92b8bd0c8_hufdc4047d1f13243dc00ee98ca40c3721_1787439_250x150_fill_box_smart1_2.png width=250 height=150 loading=lazy data-key data-hash="md5-Z6VYg8oN3e56OK7pK4vQyA=="></div><div class=article-details><h2 class=article-title>Shader入门精要-高级纹理</h2></div></a></article><article class=has-image><a href=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E6%9B%B4%E5%8A%A0%E5%A4%8D%E6%9D%82%E7%9A%84%E5%85%89%E7%85%A7/><div class=article-image><img src=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E6%9B%B4%E5%8A%A0%E5%A4%8D%E6%9D%82%E7%9A%84%E5%85%89%E7%85%A7/topimg.6c5c6801e5665142f1afc74f7eccabb9_hud5b4711730563b8f6fe841cfaa71f45d_221051_250x150_fill_box_smart1_2.png width=250 height=150 loading=lazy data-key data-hash="md5-bFxoAeVmUULxr8dPfsyruQ=="></div><div class=article-details><h2 class=article-title>Shader入门精要-更加复杂的光照</h2></div></a></article><article class=has-image><a href=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E9%80%8F%E6%98%8E%E6%95%88%E6%9E%9C/><div class=article-image><img src=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E9%80%8F%E6%98%8E%E6%95%88%E6%9E%9C/topimg.d65ee7581cfef7096ee4aec08398a608_hucec924f8a8d5e17115b60defab86f43b_300097_250x150_fill_box_smart1_2.png width=250 height=150 loading=lazy data-key data-hash="md5-1l7nWBz+9wlu5K7Ag5imCA=="></div><div class=article-details><h2 class=article-title>Shader入门精要-透明效果</h2></div></a></article><article class=has-image><a href=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E5%9F%BA%E7%A1%80%E7%BA%B9%E7%90%86/><div class=article-image><img src=/p/shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81-%E5%9F%BA%E7%A1%80%E7%BA%B9%E7%90%86/topimg.b1f07d907209b24d4812f315eb6ff2fa_hub743dc7ee0e867207b7b55e10230ffbf_426847_250x150_fill_box_smart1_2.png width=250 height=150 loading=lazy data-key data-hash="md5-sfB9kHIJsk1IEvMV62/y+g=="></div><div class=article-details><h2 class=article-title>Shader入门精要-基础纹理</h2></div></a></article></div></div></aside><script src=https://utteranc.es/client.js repo issue-term=pathname crossorigin=anonymous async></script><style>.utterances{max-width:unset}</style><script>function setUtterancesTheme(b){let a=document.querySelector('.utterances iframe');a&&a.contentWindow.postMessage({type:'set-theme',theme:`github-${b}`},'https://utteranc.es')}addEventListener('message',a=>{if(a.origin!=='https://utteranc.es')return;setUtterancesTheme(document.body.dataset.scheme)}),window.addEventListener('onColorSchemeChange',a=>{setUtterancesTheme(a.detail)})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2021 YanTree</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=2.3.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous defer></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const a=document.createElement('link');a.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",a.type="text/css",a.rel="stylesheet",document.head.appendChild(a)})()</script></body></html>