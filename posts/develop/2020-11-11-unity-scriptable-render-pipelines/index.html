<!DOCTYPE html>
<html lang="zh-cn"><head>
  <meta charset="UTF-8">
  <style type="text/css">
    :root .footer > #box[style="width:100%;height:100%;position:fixed;top:0"],
    :root .btn.btn-default.hotwords[target="_blank"],
    :root .error > #qqs,
    :root .content > a > .topline,
    :root .container > a.mid-wrapper,
    :root .container > .pic_container,
    :root .container > .ads
    { display: none !important; }</style>  
  <link crossorigin="anonymous" media="all"
        rel="stylesheet"
        href="https://yantree.github.io/style/css/frameworks.css" />
  <link crossorigin="anonymous" media="all"
        rel="stylesheet" href="https://yantree.github.io/style/css/github.css" />  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>「Unity」URP 基操</title>
  <link rel="icon" type="image/x-icon" class="js-site-favicon" href="https://yantree.github.io/style/favicon.ico">
  <meta name="theme-color" content="#1e2327">
  

  <script crossorigin="anonymous"
  type="application/javascript" src="https://yantree.github.io/style/js/compat-bootstrap.js"></script>
  <script crossorigin="anonymous"
  type="application/javascript" src="https://yantree.github.io/style/js/environment-bootstrap.js"></script>
  <script crossorigin="anonymous"
  type="application/javascript" src="https://yantree.github.io/style/js/vendor.js"></script>  
  <script crossorigin="anonymous"
          type="application/javascript" src="https://yantree.github.io/style/js/frameworks.js"></script>

  <script crossorigin="anonymous" async="async"
          type="application/javascript" src="https://yantree.github.io/style/js/github-bootstrap.js"></script>
          

          
</head>
<body class="env-production emoji-size-boost page-responsive page-profile"><div class="position-relative js-header-wrapper">
  <a href="#start-of-content" class="p-3 bg-blue text-white show-on-focus js-skip-to-content">Skip to content</a>
  <span class="Progress progress-pjax-loader position-fixed width-full js-pjax-loader-bar">
    <span class="progress-pjax-loader-bar top-0 left-0" style="width: 0%;"></span>
  </span>

  
  <header class="Header js-details-container Details flex-wrap flex-lg-nowrap p-responsive" role="banner">

    
    <div class="Header-item d-none d-lg-flex">
      <a class="Header-link" href="https://yantree.github.io/" aria-label="Homepage" data-ga-click="Header, go to dashboard, icon:logo">
        <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true">
          <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
        </svg>
      </a>
    </div>

    
    <div class="Header-item d-lg-none">
      <button class="Header-link btn-link js-details-target" type="button" aria-label="Toggle navigation" aria-expanded="false">
        <svg height="24" class="octicon octicon-three-bars" viewBox="0 0 12 16" version="1.1" width="18" aria-hidden="true"><path fill-rule="evenodd" d="M11.41 9H.59C0 9 0 8.59 0 8c0-.59 0-1 .59-1H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zm0-4H.59C0 5 0 4.59 0 4c0-.59 0-1 .59-1H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zM.59 11H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1H.59C0 13 0 12.59 0 12c0-.59 0-1 .59-1z"></path></svg>
      </button>
    </div>

    
    <div class="Header-item Header-item--full flex-column flex-lg-row width-full flex-order-2 flex-lg-order-none mr-0 mr-lg-3 mt-3 mt-lg-0 Details-content--hidden">

      
      <div class="header-search flex-self-stretch flex-lg-self-auto mr-0 mr-lg-3 mb-3 mb-lg-0 scoped-search site-scoped-search js-site-search position-relative js-jump-to" role="combobox" aria-owns="jump-to-results" aria-label="Search or jump to" aria-haspopup="listbox" aria-expanded="false">
        <div class="position-relative">
        </div>
      </div>

            
      <nav class="d-flex flex-column flex-lg-row flex-self-stretch flex-lg-self-auto" aria-label="Global">
        <a class="js-selected-navigation-item Header-link  mr-0 mr-lg-3 py-2 py-lg-0 border-top border-lg-top-0 border-white-fade-15" data-hotkey="g p" data-ga-click="Header, click, Nav menu - item:home context:user" aria-label="Pull requests you created" data-selected-links="/pulls /pulls/assigned /pulls/mentioned /pulls" href="https://yantree.github.io/">
          Home
        </a>
        <a class="js-selected-navigation-item Header-link  mr-0 mr-lg-3 py-2 py-lg-0 border-top border-lg-top-0 border-white-fade-15" data-hotkey="g i" data-ga-click="Header, click, Nav menu - item:gallery context:user" aria-label="Issues you created" data-selected-links="/issues /issues/assigned /issues/mentioned /issues" href="https://yantree.github.io/other_pages/gallery/">
          Gallery
        </a>



        <a class="js-selected-navigation-item Header-link  mr-0 mr-lg-3 py-2 py-lg-0 border-top border-lg-top-0 border-white-fade-15" data-ga-click="Header, click, Nav menu - item:about" data-selected-links="/explore /trending /trending/developers /integrations /integrations/feature/code /integrations/feature/collaborate /integrations/feature/ship showcases showcases_search showcases_landing /explore" href="#">
          
        </a>
</nav>


</div>
<div class="Header-item Header-item--full flex-justify-center d-lg-none position-relative" style="margin-right: auto;">
  <a class="Header-link" href="https://yantree.github.io/" aria-label="Homepage" data-ga-click="Header, go to dashboard, icon:logo">
    <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true">
      <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
    </svg>
  </a>
</div>



<div class="Header-item mr-0 mr-lg-3 flex-order-1 flex-lg-order-none">
  <a aria-label="Send me an email" href="mailto:yantreeland@outlook.com" class="Header-link notification-indicator position-relative tooltipped tooltipped-sw js-socket-channel js-notification-indicator" data-hotkey="g n" data-ga-click="Header, go to notifications, icon:read" data-channel="notification-changed:42629243">
    <span class="js-indicator-modifier mail-status "></span>
    <svg class="octicon octicon-mail" viewBox="0 0 16 16" version="1.1" width="32" height="32" aria-hidden="true"><path fill-rule="evenodd" d="M0 4v8c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1H1c-.55 0-1 .45-1 1zm13 0L7 9 1 4h12zM1 5.5l4 3-4 3v-6zM2 12l3.5-3L7 10.5 8.5 9l3.5 3H2zm11-.5l-4-3 4-3v6z"></path></svg>
  </a>
</div>
</header>
</div>
<div id="js-flash-container">


    <template class="js-flash-template">
      <div class="flash flash-full  js-flash-template-container">
    <div class="container-xl px-2">
      <button class="flash-close js-flash-close" type="button" aria-label="Dismiss this message">
        <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"></path></svg>
      </button>
      
        <div class="js-flash-template-message"></div>
  
    </div>
  </div>
    </template>
  </div>
<div id="content">
<div class="application-main " data-commit-hovercards-enabled="">
  <div itemscope="" itemtype="http://schema.org/SoftwareSourceCode" class="">
    <main id="js-repo-pjax-container" data-pjax-container="">
      <div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav pt-0 pt-lg-4 ">
        <div class="repohead-details-container clearfix container-lg p-responsive d-none d-lg-block">
          <div class="mb-3 d-flex">
            <h1 class="public css-truncate float-none flex-auto width-fit pl-0">
              <a class="avatar mr-1">
                <img
                  src="https://avatars3.githubusercontent.com/u/42629243?s=60&u=4c15c4c420106664f4020caa794ccfc78a762ece&v=4" width="26" height="26">
              </a>
              <span class="author"><a
                                     href="https://yantree.github.io/">YanTree</a></span>
              <span class="path-divider">/</span>
              <strong itemprop="name" class="css-truncate-target" style="max-width: 410px"><a
                                                                                             href="https://yantree.github.io/posts/develop/2020-11-11-unity-scriptable-render-pipelines/">「Unity」URP 基操</a></strong>

              <div class="d-block text-small text-gray">
                Created <time-ago datetime="2020-11-11" class="no-wrap"
                                  title="Created at 2020/11/11">
                  2020-11-11</time-ago>
                <span class="file-info-divider"></span>
                Modifyed <time-ago datetime="2020-11-11" class="no-wrap"
                                   title="Modified  at 2020/11/11">
                  2020-11-11</time-ago>
              </div>
            </h1>
          </div>
        </div>




      </div>
      <div class="container-lg clearfix new-discussion-timeline experiment-repo-nav  p-responsive">
        <div class="repository-content ">
          <div class="Box mt-3 position-relative">
            <div class="Box-header py-2 d-flex flex-column flex-shrink-0 flex-md-row flex-md-items-center">
              <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">
                3684 Words
                
              </div>
            </div>

            <div id="readme" class="Box-body readme blob instapaper_body js-code-block-container">
              <article class="markdown-body entry-content p-3 p-md-6" itemprop="text"><h1 id="scriptable-render-pipelines">Scriptable Render Pipelines</h1>
<p>Scriptable Rendering Pipelines allow developers to write how Unity renders a frame in C#.</p>
<p>这是一个让开发者编写C#，以此决定Unity如何渲染画面的技术。主要有两种解决方案。</p>
<!-- raw HTML omitted -->
<p><strong>Table of Contents</strong></p>
<ul>
<li><a href="#scriptable-render-pipelines">Scriptable Render Pipelines</a>
<ul>
<li><a href="#urp">URP</a></li>
<li><a href="#%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AEurp">如何设置URP？</a></li>
<li><a href="#%E5%88%9B%E5%BB%BAupr%E6%9D%90%E8%B4%A8">创建UPR材质</a></li>
<li><a href="#%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84urp%E6%9D%90%E8%B4%A8">创建自定义的URP材质</a></li>
<li><a href="#%E8%87%AA%E5%AE%9A%E4%B9%89urp%E8%AE%BE%E7%BD%AE">自定义URP设置</a>
<ul>
<li><a href="#1-%E5%B0%86%E9%A1%B9%E7%9B%AE%E5%8D%87%E7%BA%A7%E4%B8%BAupr">1. 将项目升级为UPR</a></li>
<li><a href="#2-%E5%88%9B%E5%BB%BA-pipeline-asset">2. 创建 Pipeline Asset</a>
<ul>
<li><a href="#general">General</a></li>
<li><a href="#quality">Quality</a></li>
<li><a href="#lighting">Lighting</a></li>
<li><a href="#shadows">Shadows</a></li>
<li><a href="#post-processing">Post-processing</a></li>
<li><a href="#advanced">Advanced</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E6%80%BB%E7%BB%93">总结</a></li>
</ul>
</li>
</ul>
<!-- raw HTML omitted -->
<ol>
<li>
<p><strong>High-Definition Rendering Pipeline.</strong></p>
<p>一言蔽之就是用于制作 <strong>高品质</strong>，需要运用到大量计算资源的 shader。一般就是桌面游戏，3A大作会使用，需要输出高品质的画面。它有一系列的新特性，例如提高光照效果，材质渲染效果。[本质：需要消耗大量的计算资源]</p>
</li>
<li>
<p><strong>Universal Render Pipeline</strong></p>
<p>该技术设计是为了优化实时性能，通过在照明和阴影方面做出权衡来实现这一点。一般就是手游(手机性能瓶颈)、VR(实时渲染需要)项目需要。[本质：优化性能、实时渲染]</p>
</li>
<li>
<p><strong>项目里如何选择？</strong></p>
<ul>
<li>因为性能的限制，你的项目需要性能最优化以此来达到不错的显示效果。👉 <strong>URP</strong></li>
<li>你的目标是高端平台。👉 <strong>HDRP</strong></li>
</ul>
</li>
</ol>
<h2 id="urp">URP</h2>
<p>URP使用<strong>一个实时阴影光</strong>和每个<strong>对象的光消隐</strong>执行单遍正向渲染。 相比之下，传统的转发渲染管线会在范围内对每个像素光执行一次附加遍历。 这意味着URP将减少绘制调用。</p>
<h2 id="如何设置urp">如何设置URP？</h2>
<ol>
<li>
<p>将普通项目升级为 <strong>URP</strong></p>
<ol>
<li>安装 <strong>Universal Render Pipeline</strong>
<ul>
<li>进入 Package Manager，搜索 Universal RP (URP / Universal Render Pipeline) 。</li>
<li>选择 Install，等待文件加载完成。</li>
</ul>
</li>
<li>升级为 <strong>URP Materials</strong>
<ul>
<li>安装完成后，<strong>Create &gt; Rendering &gt; Universal Render Pipeline &gt; Pipeline Asset (Forward Renderer)</strong></li>
<li><strong>Edit &gt; Project Settings &gt; Graphics &gt; Scriptable Render Pipeline Settings</strong>，设置为刚刚创建好的 Pipeline Asset。</li>
<li>如果项目使用 Stand Shader，你此时还需要将这些材质转换为 URP 材质(URP Lit Shader)。</li>
<li>转换材质 <strong>Edit</strong> &gt; <strong>Render Pipeline</strong> &gt; <strong>Universal Render</strong> <strong>Pipeline</strong> &gt; <strong>Upgrade Project Materials to UniversalRP Materials</strong>。</li>
</ul>
</li>
</ol>
</li>
<li>
<p>创建一个 <strong>URP</strong> 项目，我使用的是 2019.4LTS 版本，不需要再次确认 <strong>Player &gt; Other Settings &gt; Rendering &gt; Color Space</strong> 的值为 <strong>Linear</strong>。</p>
</li>
<li>
<p>Create <strong>Rendering &gt;  Universal Render Pipeline &gt; Pipeline Asset (Forward Renderer)</strong>。</p>
</li>
<li>
<p><strong>Edit &gt; Project Setting &gt; Quality &gt; Rendering</strong> 选择刚刚创建的 Pipeline Asset。</p>
</li>
</ol>
<p>这就是基本的使用方法。</p>
<blockquote>
<p>升级带有 Standard Shader 的项目为 URP ，<strong>Edit &gt; Render Pipeline &gt; Universal Render Pipeline &gt; Upgrade Project Materials to UniversalRP Materials</strong>。</p>
</blockquote>
<h2 id="创建upr材质">创建UPR材质</h2>
<p><strong>Create &gt; Materials</strong></p>
<figure style="margin:1rem 0.5rem"><a href="../../../img/../../../img/Unity/URP_Shader_Set.png" title="URP_Shader_Set.png"><img src="../../../img/../../../img/Unity/URP_Shader_Set.png" alt="URP_Shader_Set.png" width=""></a></figure>

<p>这里的 Shader 类型为 Universal Render Pipeline/Lit，有以下 9 中类型的 Pipeline shader</p>
<ul>
<li><strong>2D</strong>: 用于 2D 项目。</li>
<li><strong>Autodesk Interactive</strong>: 当你在 Autodesk 调整 Shader 时，Unity 能实时更新，反之亦然。</li>
<li><strong>Nature</strong>: 包含专门用于 Speed Trees 的着色器</li>
<li><strong>Particles</strong>: 为你的粒子包含相同的四个轻量着色器。</li>
<li><strong>Terrain</strong>: 与Unity的stock地形着色器相同。</li>
<li>**Baked Lit:**使用这个着色器的风格游戏或应用程序，只需要烘烤照明通过灯光地图和灯光探针。这个着色器不使用基于物理的阴影和没有实时照明，所以所有实时相关的着色器关键字和变体都从着色器代码中剥离，这使得计算速度更快。</li>
<li><strong>Lit</strong>: Lit Shader可让您以逼真的质量渲染真实的表面，例如石材，木材，玻璃，塑料和金属。 您的光线水平和反射看起来栩栩如生，并在各种光照条件下（例如明亮的阳光或黑暗的洞穴）做出适当的反应。 此着色器使用URP中计算量最大的着色模型。</li>
<li><strong>Simple Lit:</strong> 当性能比真实感更重要时，请使用此着色器。 此着色器使用简单的照明近似值。</li>
<li><strong>Unlit</strong>: An unlit shader，可以选择对全局照明进行采样。 这将替代Unity的原始不带阴影的着色器。</li>
</ul>
<p><strong>将普通材质升级为URP材质</strong></p>
<p>选中普通材质的材质球：</p>
<ul>
<li><strong>Edit &gt; Rendering Pipeline&gt; Universal Render Pipeline &gt; Upgrade Selected Materials to UniversalRP Materials</strong>，在这儿你可以选择 Upgrade 项目里所有的材质球。</li>
<li>会弹出一个窗口，❗切记，升级之前备份整个项目文件，以防升级失败。</li>
</ul>
<figure style="margin:1rem 0.5rem"><a href="../../../img/../../../img/Unity/URP_upgrade.png" title="URP_upgrade.png"><img src="../../../img/../../../img/Unity/URP_upgrade.png" alt="URP_upgrade.png" width=""></a></figure>

<p>点击 Proceed 将会升级你选中的材质或者项目里的所有材质。</p>
<blockquote>
<p>在进行升级之前，记得备份整个项目文件。❗</p>
</blockquote>
<h2 id="创建自定义的urp材质">创建自定义的URP材质</h2>
<ul>
<li>创建一个新的 <strong>Material</strong>，<strong>Create &gt; Material</strong>。</li>
<li>注意 Shader 类型是 URP/Lit shader。</li>
<li>设置 Surface Type 为 Transparent。</li>
<li>选择颜色， Alpha值设置为 30。</li>
<li>应用材质球，赋值给 Screen 游戏对象。</li>
<li>选择颜色，查看变化。</li>
</ul>
<h2 id="自定义urp设置">自定义URP设置</h2>
<p>任务：</p>
<p>我们将创建三个 Pipeline Asset，我们可以在项目中使用，具体使用哪个取决于项目是什么设备或质量水平。</p>
<h3 id="1-将项目升级为upr">1. 将项目升级为UPR</h3>
<p>参考前面的设置，在此不赘诉。</p>
<h3 id="2-创建-pipeline-asset">2. 创建 Pipeline Asset</h3>
<p>**Create **&gt; <strong>Rendering</strong>&gt; <strong>Universal Renderer Pipeline</strong> &gt; **Pipeline Asset (Forward Renderer) **</p>
<p>命名为URP_High，此时会有两个文件一个是 <strong>URP_High.asset</strong> ，一个是 <strong>URP_High_Render.asset</strong>，选择 <strong>URP_High.asset</strong>，在检视面板里我们会看到相关参数。</p>
<h4 id="general">General</h4>
<p>在这一部分，你也可以启用 <strong>Depth Texture</strong> or <strong>Opaque Texture</strong>， if you need the camera to output that information for your custom Shaders。</p>
<p>最后一个选择<strong>Terrain Holes</strong> ，默认情况下启用。如果不使用地形，或者地形上没有洞，禁用此选项。禁用Terrain Holes 将减少 Building 时间。</p>
<figure style="margin:1rem 0.5rem"><a href="../../../img/../../../img/Unity/URP_general.png" title="URP_general.png"><img src="../../../img/../../../img/Unity/URP_general.png" alt="URP_general.png" width=""></a></figure>

<h4 id="quality">Quality</h4>
<p>这一部分包含我们的渲染质量设置，如果你需要优化你的渲染，这是你应该开始的地方</p>
<p><strong>HDR</strong>，当我们需要高质量的后期处理时，例如广泛的照明或后期处理效果(例如Bloom)，启用它。如果定位低端设备或只需要更高的性能，禁用它。这里是高质量的设置，所以启用它。</p>
<p><strong>Anti Aliasing</strong>，用于平滑物体边缘，以避免锯齿状，阶梯状外观或闪烁。采样值越高，平滑效果越好，占用的计算资源越多，降低电脑运行速度。这里是高质量的设置，所以设置为8x。</p>
<p><strong>Render Scale</strong>，可以使用它来扩展目标分辨率，这不会影响目标设备的分辨率。，还可以使用此滑块降低渲染质量以提高性能，或者放大游戏渲染以提高质量。这里是高质量的设置，所以拉满该值。</p>
<figure style="margin:1rem 0.5rem"><a href="../../../img/../../../img/Unity/URP_quality.png" title="URP_quality.png"><img src="../../../img/../../../img/Unity/URP_quality.png" alt="URP_quality.png" width=""></a></figure>

<h4 id="lighting">Lighting</h4>
<p>在本节中，我们将更改影响场景灯光的设置。 第一个设置是<strong>Main Light</strong>。 这是场景中的主要定向光，通常在 <strong>Light Setting</strong> 中设置为 <strong>Sun Source</strong>。 如果未指定任何太阳光源，这将把场景中最亮的定向光作为我们的主要光源。 此设置有两个选项，即 default 和 <strong>Disabled</strong>，这将导致URP无法渲染主光源。 将此设置保持为<strong>Per Pixel</strong>。</p>
<p><strong>Main Light</strong> 有两个子选项:</p>
<ul>
<li><strong>Cast Shadows</strong>: 如果已经烘烤了照明并且不需要阴影，关闭此功能，这里我们启用它。</li>
<li><strong>Shadow Resolution</strong>: 这将设置阴影使用的分辨率级别。 设置得越高，阴影将越准确和清晰，但是性能成本会更高。 这里设置为4096，因为这是高质量资产。</li>
</ul>
<p><strong>Additional Lights</strong>：仅当场景中有多个光源时，才需要将其设置为<strong>Per Pixel</strong>。 我们将要添加一些灯光，以便我们可以看到此设置的作用。 另外创建四个点光源。</p>
<ul>
<li><strong>Per Object Limit</strong>: 告诉渲染器允许多少 non-<strong>Main Lights</strong> 影响场景中的 <strong>GameObject</strong>。 我们设置为四个，因为我们另外创建了四个光源。</li>
<li><strong>Cast Shadows</strong>：此设置将告诉渲染器是否应为这些 <strong>Additional Lights</strong> 渲染阴影。 在这里，我们将其保留。</li>
<li><strong>Shadow Resolution</strong>：如果没有启用 <strong>Cast Shadows</strong> 将无法启用该选项，启用 <strong>Cast Shadows</strong> 后，我们可以像使用前面的 <strong>Shadow Resolution</strong> 一样使用它。</li>
</ul>
<figure style="margin:1rem 0.5rem"><a href="../../../img/../../../img/Unity/URP_quality.png" title="URP_quality.png"><img src="../../../img/../../../img/Unity/URP_quality.png" alt="URP_quality.png" width=""></a></figure>

<h4 id="shadows">Shadows</h4>
<p>阴影设置使我们可以更深入地调整阴影的外观和行为。 这些设置会影响性能，因此，如果遇到性能问题，您可以对其进行优化。</p>
<ul>
<li><strong>Distance</strong>：这将告诉渲染器，在相机前面多远的游戏对象可以投射阴影。 如果照相机到游戏对象的距离大于该设置，它将不会渲染阴影。 这会占用大量内存，因此对于此场景，我们可以将其设置为50。</li>
<li><strong>Cascades</strong>：级联越多，意味着相机附近的阴影越细。 我们将其设置为四个级联，但是如果需要提高性能，可以将其降低为两个级联，甚至不设置为级联。</li>
<li><strong>Depth Bias</strong> and <strong>Normal Bias</strong>：我们将这些设置保留为1，仅当您注意到对象上出现条纹或阴影伪像时，才更改这些设置。</li>
<li><strong>Soft Shadows</strong>：此设置将平滑过滤阴影，以帮助避免锯齿状阴影。我们将打开它，但是请记住，它将在渲染时运行过滤器，并且会降低性能。</li>
</ul>
<figure style="margin:1rem 0.5rem"><a href="../../../img/../../../img/Unity/URP_shadows.png" title="URP_shadows.png"><img src="../../../img/../../../img/Unity/URP_shadows.png" alt="URP_shadows.png" width=""></a></figure>

<h4 id="post-processing">Post-processing</h4>
<p>本部分将使您更改某些全局后处理设置。</p>
<ul>
<li><strong>Feature Set</strong>：通过此设置，可以选择使用 <strong>Integrated</strong> or the <strong>Post Processing V2</strong>。<strong>Post Processing V2</strong> 将来会被弃用，确保设置为 <strong>Integrated</strong>。</li>
<li><strong>Grading Mode</strong> ：这里可以选择项目使用的颜色等级，我们有两个选项: <strong>High Dynamic Range</strong> or <strong>Low Dynamic Range</strong>。如果需要在色调映射之前应用颜色分级并且具有较高的精度，使用 <strong>High Dynamic Range</strong>。<strong>Low Dynamic Range</strong> 将在色调映射后应用颜色分级，并使用更有限的颜色范围。由于我们不使用该项目进行建筑可视化或电影制作，因此可以将此设置保留在<strong>Low Dynamic Range</strong>上。</li>
<li><strong>LUT Size</strong>： 这将设置在颜色分级中使用的查找纹理的大小。 设置的值越高，颜色分级就越精确，但这会增加内存使用量并影响性能。 您可以将其保留为32。</li>
</ul>
<figure style="margin:1rem 0.5rem"><a href="../../../img/../../../img/Unity/URP_post.png" title="URP_post.png"><img src="../../../img/../../../img/Unity/URP_post.png" alt="URP_post.png" width=""></a></figure>

<h4 id="advanced">Advanced</h4>
<p>我们的最后一部分是 <strong>高级部分</strong>。 在这里，您可以找到不太常用的设置来真正微调渲染器。 高级设置为：</p>
<ul>
<li><strong>SRP Batcher</strong>： 这将批处理共享同一着色器的不同材质。 这是一个不错的选择，因为它将加快CPU渲染速度，而不会影响GPU性能。</li>
<li><strong>Dynamic Batching</strong>：这将批处理使用相同材质的小型动态对象。 如果您要针对不支持GPU实例化的平台，则应启用此选项。 我们正在创建要在桌面上运行的项目，因此将其禁用。</li>
<li><strong>Mixed Lighting</strong>：如果有灯光的 <strong>Mode</strong> 设置为 <strong>Mixed</strong>，则应启用此设置。 混合光将动态阴影与烘焙照明结合在一起。 我们将保持启用状态，但是如果您创建的项目不使用混合照明，则可以禁用此设置。</li>
<li><strong>Debug Level</strong>：选择渲染管道将生成的调试信息。 您可以在 <strong>Disabled</strong>,（禁用此选项）或 <strong>Profiling</strong> 之间进行选择，这将允许您在 <strong>FrameDebugger</strong> 中查看生成的信息标签。 我们将此设置保留为 <strong>Disabled</strong>。</li>
<li><strong>Shader Variant Log Level</strong> 将会生成一些关于 <strong>Shader Variants</strong> and <strong>Shader Stripping</strong> 的信息。可以设置为 <strong>Disabled</strong>；选择 <strong>Only Universal RP shaders</strong>，将会显示所有 URP shaders 的信息； 选择<strong>All</strong>，将会显示所有的 shaders 的信息。</li>
</ul>
<figure style="margin:1rem 0.5rem"><a href="../../../img/../../../img/Unity/URP_advanced.png" title="URP_advanced.png"><img src="../../../img/../../../img/Unity/URP_advanced.png" alt="URP_advanced.png" width=""></a></figure>

<h2 id="总结">总结</h2>
<p>这里主要是讲解 <strong>URP</strong> 模板的设置和用法；重点是材质的转换，当使用 URP 模板时，Shader 相较于之前的shader会有所不同，其中主要改变体现在将 <strong>CGPROGRAM ENDCG</strong> 替换为 <strong>HLSLPROGRAM ENDHLSL</strong>。</p>
</article>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</div>

<div class="utterances"></div>
<script src="https://utteranc.es/client.js"
        repo="YanTree/HUGO_COMMENT"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>


    </div><div class="footer container-xl width-full p-responsive" role="contentinfo">
    <div class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
      <ul class="list-style-none d-flex flex-wrap col-12 col-lg-5 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
        <li class="mr-3 mr-lg-0">© 2020 YanTree.</li>
          <li class="mr-3 mr-lg-0"><a href="https://github.com/YanTree/.emacs.d">.emacs.d</a></li>
          <li class="mr-3 mr-lg-0"><a href="#"></a></li>
          <li class="mr-3 mr-lg-0"><a href="http://commonmark.org/help/">Markdown</a></li>
          <li class="mr-3 mr-lg-0"><a href="#"></a></li>
          <li><a href="https://yantree.github.io/other_pages/software/">Software</a></li>
  
      </ul>
  
      <a aria-label="Homepage" title="YanTree&#39;s BLOG" class="footer-octicon d-none d-lg-block mx-lg-4" href="https://yantree.github.io/">
        <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
  </a>
     <ul class="list-style-none d-flex flex-wrap col-12 col-lg-5 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
          <li class="mr-3 mr-lg-0"><a href="https://github.com/kasusa/kasusa.github.io">Kasusa</a></li>
          <li class="mr-3 mr-lg-0"><a href="#"></a></li>
        <li class="mr-3 mr-lg-0"><a href="https://yantree.github.io/other_pages/resume/">Resume</a></li>
        <li class="mr-3 mr-lg-0"><a href="#"></a></li>
          <li class="mr-3 mr-lg-0"><a href="https://yantree.github.io/other_pages/about/">About</a></li>
          <li><a href="#"></a></li>
      </ul>
    </div>
    <div class="d-flex flex-justify-center pb-6">
      <span class="f6 text-gray-light"></span>
    </div>
  </div></body>
</html>
